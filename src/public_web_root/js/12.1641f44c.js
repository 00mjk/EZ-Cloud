(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"31c4":function(e,t,n){"use strict";var i=n("ded3"),l=n.n(i),o=n("2f62");t["a"]={data(){return{pipelinesLoading:!1,collectorsLoading:!1}},computed:l()(l()({},Object(o["c"])("mainStore",["openCollectors","pipelines"])),{},{dataLoading(){return this.collectorsLoading||this.pipelinesLoading}}),methods:l()(l()({},Object(o["b"])("mainStore",["getOpenCollectors","getPipelines"])),{},{loadOpenCollectors(){this.getOpenCollectors({loadingVariableName:"collectorsLoading",caller:this})},loadPipelines(){this.getPipelines({loadingVariableName:"pipelinesLoading",caller:this})}}),mounted(){0===this.openCollectors.length&&this.loadOpenCollectors(),this.pipelines&&0===this.pipelines.length&&this.loadPipelines()}}},"80b0":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"q-pa-md"},[n("q-table",{attrs:{title:"Pipelines",data:e.tableData,columns:e.columns,"row-key":"uid",dense:"","no-data-label":"No Pipeline to display.",filter:e.searchFilter,loading:e.tableLoading,"rows-per-page-label":"Pipelines per page:",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("div",{staticClass:"full-width row wrap justify-between"},[n("div",{staticClass:"q-table__title"},[e._v("\n            Pipelines\n          ")]),n("div",{staticClass:"row q-gutter-md"},[n("div",{staticClass:"col"},[n("q-btn",{staticStyle:{"min-width":"12rem"},attrs:{rounded:"",dense:"",color:"primary",icon:"add",label:"Add New Pipeline"},on:{click:function(t){return e.doPromptForPipelineDetails()}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n                  Create a new Pipeline.\n                ")])],1)],1)]),n("div",{staticClass:"row q-gutter-md"},[n("div",{staticStyle:{width:"300px"}},[n("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[e.searchFilter.length?n("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(t){e.searchFilter=""}}}):e._e(),n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1),n("q-btn",{attrs:{dense:"",outline:"",icon:"refresh"},on:{click:function(t){return e.loadPipelines()}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n                Reload the list of Pipelines.\n              ")])],1)],1)])]},proxy:!0},{key:"body-cell-actions",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("q-btn",{attrs:{flat:"",dense:"",icon:"launch"},on:{click:function(n){return e.openPipeline(t.row)}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n              "+e._s(e.$t("Open this Pipeline"))+"\n            ")])],1),n("q-btn",{attrs:{flat:"",dense:"",icon:"delete",color:"negative"},on:{click:function(n){return e.deletePipelinePrompt(t.row)}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n              "+e._s(e.$t("Delete Pipeline"))+"\n            ")])],1)],1)]}},{key:"body-cell-status",fn:function(t){return[n("q-td",{attrs:{props:t}},["Ready"===t.value?n("q-icon",{attrs:{name:"arrow_circle_up",color:"green",size:"md"}}):"Dev"===t.value?n("q-icon",{attrs:{name:"construction",size:"md"}}):"New"===t.value?n("q-icon",{attrs:{name:"auto_awesome",size:"md"}}):n("q-icon",{attrs:{name:"help_center",color:"grey",size:"md"}}),n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n            "+e._s(t.value)+"\n          ")])],1)]}}])}),n("q-dialog",{attrs:{persistent:""},model:{value:e.promptForNewPipelineDetails,callback:function(t){e.promptForNewPipelineDetails=t},expression:"promptForNewPipelineDetails"}},[n("q-card",{staticStyle:{"min-width":"350px"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("New Pipeline Details")))])]),n("q-card-section",{staticClass:"q-pt-none"},[n("q-input",{attrs:{dense:"",autofocus:"",label:"Pipeline Name",rules:[function(t){return!!t||e.$t("Pipeline name cannot be empty")}]},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.promptForNewPipelineDetails=!1}},model:{value:e.newPipelineName,callback:function(t){e.newPipelineName=t},expression:"newPipelineName"}})],1),n("q-card-section",{staticClass:"q-pt-none"},[n("q-select",{attrs:{dense:"",options:e.openCollectorsOptions,label:"Primary Open Collector"},model:{value:e.newPipelineOpenCollector,callback:function(t){e.newPipelineOpenCollector=t},expression:"newPipelineOpenCollector"}})],1),n("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("Cancel")}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("Add new Pipeline"),disabled:!e.newPipelineName.length},on:{click:function(t){return e.addNewPipeline()}}})],1)],1)],1)],1)},l=[],o=n("ded3"),a=n.n(o),s=n("2f62"),r=n("31c4"),p={name:"PagePipelinesList",mixins:[r["a"]],data(){return{searchFilter:"",columns:[{name:"actions",align:"center",label:"Actions",field:"actions",sortable:!1},{name:"status",align:"center",label:"Status",field:"status",sortable:!0},{name:"name",align:"center",label:"Pipeline Name",field:"name",sortable:!0},{name:"openCollector",align:"center",label:"Primary Open Collector",field:"openCollector",sortable:!0}],pagination:{sortBy:"status",descending:!0,rowsPerPage:25},promptForNewPipelineDetails:!1,newPipelineName:"",newPipelineOpenCollector:null}},computed:a()(a()({},Object(s["c"])("mainStore",["openCollectors","pipelines"])),{},{tableData(){const e=[];return this.pipelines.forEach((t=>{const n=this.openCollectors.find((e=>e.uid===t.primaryOpenCollector));e.push(Object.assign({},t,{openCollector:n&&n.name&&n.hostname?n.name+" ("+n.hostname+")":null}))})),e},openCollectorsOptions(){const e=[];return this.openCollectors.forEach((t=>{e.push({value:t.uid,label:t.name+" ("+t.hostname+")"})})),e},tableLoading(){return this.dataLoading}}),methods:a()(a()({},Object(s["b"])("mainStore",["upsertPipeline","deletePipeline","getPipelines","getOpenCollectors"])),{},{openPipeline(e){this.$router.push({path:"/Pipelines/"+e.uid+"/Properties"})},deletePipelinePrompt(e){"undefined"!==typeof e&&this.$q.dialog({title:"Confirm",message:"Do you REALLY want to delete this Pipeline?",ok:{push:!0,color:"negative"},cancel:{push:!0,color:"positive"},persistent:!0}).onOk((()=>{this.deletePipeline({pushToApi:!0,caller:this,pipeline:e})}))},doPromptForPipelineDetails(){this.newPipelineName="",this.newPipelineOpenCollector=null,this.promptForNewPipelineDetails=!0},addNewPipeline(){this.promptForNewPipelineDetails=!1,this.upsertPipeline({pushToApi:!0,caller:this,pipeline:{name:this.newPipelineName,status:"New",primaryOpenCollector:this.newPipelineOpenCollector&&this.newPipelineOpenCollector.value&&this.newPipelineOpenCollector.value.length?this.newPipelineOpenCollector.value:null}})}}),mounted(){}},c=p,d=n("2877"),u=n("9989"),m=n("9c40"),h=n("eaac"),P=n("05c0"),f=n("27f9"),b=n("0016"),w=n("eb85"),g=n("db86"),C=n("24e8"),v=n("f09f"),q=n("a370"),y=n("ddd8"),O=n("4b7e"),N=n("7f67"),k=n("eebe"),_=n.n(k),D=Object(d["a"])(c,i,l,!1,null,null,null);t["default"]=D.exports;_()(D,"components",{QPage:u["a"],QBtn:m["a"],QTable:h["a"],QTooltip:P["a"],QInput:f["a"],QIcon:b["a"],QSeparator:w["a"],QTd:g["a"],QDialog:C["a"],QCard:v["a"],QCardSection:q["a"],QSelect:y["a"],QCardActions:O["a"]}),_()(D,"directives",{ClosePopup:N["a"]})}}]);