(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"825d":function(t,e,s){"use strict";s("8839")},8839:function(t,e,s){},"9fa1":function(t,e,s){"use strict";var a=s("ded3"),n=s.n(a),i=s("2f62");e["a"]={data(){return{socket:this.$socket}},computed:n()({},Object(i["d"])("mainStore",["jwtToken"])),methods:{connectSocket(){this.socket&&this.socket.connected&&this.socket.disconnect(),this.socket.auth.token=this.jwtToken,this.socket.connect()},disconnectSocket(){this.socket&&this.socket.connected&&this.socket.disconnect()}}}},a87d:function(t,e,s){"use strict";e["a"]={computed:{darkMode:{get(){return this.$q.dark.isActive},set(t){this.$q.dark.set(t),localStorage.setItem("settings.darkMode",t)}}}}},aeab:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex flex-center"},[s("form",[s("q-card",{class:t.shakyClass?"computerSayNo":"",staticStyle:{"min-width":"350px"}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("Sign in to EZ Cloud")))])]),s("q-card-section",{staticClass:"q-pt-none"},[s("q-input",{attrs:{dense:"",autofocus:"",hint:t.$t("Username"),rules:[function(e){return!!e||t.$t("Username is required")}]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkCredentials()}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("q-card-section",{staticClass:"q-pt-none"},[s("q-input",{attrs:{dense:"",type:"password",hint:t.$t("Password")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkCredentials()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("q-card-actions",{attrs:{align:"stretch"}},[s("q-toggle",{staticClass:"q-my-sm",attrs:{"checked-icon":"dark_mode","unchecked-icon":"light_mode",color:"grey","keep-color":""},model:{value:t.darkMode,callback:function(e){t.darkMode=e},expression:"darkMode"}},[s("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[t._v("\n            "+t._s(t.$t("Switch between Light and Dark mode"))+"\n          ")])],1),s("dir",{directives:[{name:"show",rawName:"v-show",value:t.lastAttemptFailed,expression:"lastAttemptFailed"}],staticClass:"col text-bold text-negative fadeOut"},[t._v("\n          "+t._s(t.$t("Authentication failed."))+"\n        ")]),s("q-space"),s("q-btn",{staticClass:"q-my-sm",attrs:{flat:"",label:t.$t("Login"),color:"primary",loading:t.waitingOnServer},on:{click:function(e){return t.checkCredentials()}}})],1)],1)],1)])},n=[],i=s("ded3"),o=s.n(i),c=s("2f62"),r=s("9fa1"),l=s("a87d"),d={name:"PageLogin",mixins:[r["a"],l["a"]],data(){return{username:"",password:"",waitingOnServer:!1,lastAttemptFailed:!1,shakyClass:!1,lastAttemptFailedTimer:null,shakyClassTime:null}},computed:o()({},Object(c["d"])("mainStore",["jwtToken"])),methods:o()(o()({},Object(c["b"])("mainStore",["signIn","signOut"])),{},{checkCredentials(){this.lastAttemptFailedTimer&&clearTimeout(this.lastAttemptFailedTimer),this.shakyClassTime&&clearTimeout(this.shakyClassTime),this.shakyClass=!1,this.lastAttemptFailed=!1,this.signIn({loadingVariableName:"waitingOnServer",caller:this,apiCallParams:{username:this.username,password:this.password},onSuccessCallBack:this.checkTokenAndMoveOn,onErrorCallBack:this.checkTokenAndMoveOn,debug:!1})},checkTokenAndMoveOn(){this.jwtToken&&this.jwtToken.length?(this.connectSocket(),this.$router.push("/Welcome")):(this.lastAttemptFailed=!0,this.shakyClass=!0,this.shakyClassTimer=setTimeout((()=>{this.shakyClass=!1}),1e3),this.lastAttemptFailedTimer=setTimeout((()=>{this.lastAttemptFailed=!1}),4800))}}),mounted(){this.signOut()}},u=d,h=(s("825d"),s("2877")),k=s("9989"),m=s("f09f"),p=s("a370"),f=s("27f9"),g=s("4b7e"),C=s("9564"),w=s("05c0"),y=s("2c91"),T=s("9c40"),v=s("eebe"),b=s.n(v),q=Object(h["a"])(u,a,n,!1,null,null,null);e["default"]=q.exports;b()(q,"components",{QPage:k["a"],QCard:m["a"],QCardSection:p["a"],QInput:f["a"],QCardActions:g["a"],QToggle:C["a"],QTooltip:w["a"],QSpace:y["a"],QBtn:T["a"]})}}]);