(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"31c4":function(e,t,n){"use strict";var o=n("ded3"),i=n.n(o),l=n("2f62");t["a"]={data(){return{pipelinesLoading:!1,collectorsLoading:!1}},computed:i()(i()({},Object(l["c"])("mainStore",["openCollectors","pipelines"])),{},{dataLoading(){return this.collectorsLoading||this.pipelinesLoading}}),methods:i()(i()({},Object(l["b"])("mainStore",["getOpenCollectors","getPipelines"])),{},{loadOpenCollectors(){this.getOpenCollectors({loadingVariableName:"collectorsLoading",caller:this})},loadPipelines(){this.getPipelines({loadingVariableName:"pipelinesLoading",caller:this})},loadOpenCollectorsAndPipelines(){this.loadOpenCollectors(),this.loadPipelines()}}),mounted(){0===this.openCollectors.length&&this.loadOpenCollectors(),this.pipelines&&0===this.pipelines.length&&this.loadPipelines()}}},"5d0b":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("ded3"),i=n.n(o),l=(n("ddb0"),n("ac1f"),n("651e"));function s(e,t,n){if(e&&"object"===typeof e&&t&&Array.isArray(t)&&n&&"object"===typeof n)for(const[o,i]of Object.entries(e)){let e,l="",s="";const a=String(i).split("ðŸ‘‰");a&&a.length>=2&&(l=a.shift(),s=a.join("ðŸ‘‰"));const r=String(s).split("ðŸ‘ˆ___default___");r&&r.length>=2&&(e=r.pop(),s=r.join("ðŸ‘ˆ___default___"));const c=t.find((e=>e.tag===l));if(l=c&&c.transform&&c.transform.length?c.transform:"","ðŸš«"===e&&(e=void 0),null!==e&&""!==e&&+e===+e&&(e=Number(e)),o&&o.length&&l&&l.length){const t={};Object.defineProperty(t,l,{enumerable:!0,value:{target:o,value:s,default:e}}),"delete"===l&&(delete t[l].value,delete t[l].default),n.push(t)}}}function a(e){try{const o=Object.assign({},e);let a=o.collectionMethod||"";if("syslog_udp"===a&&(a="syslog"),"syslog_tcp"===a&&(a="syslog"),void 0===o.request&&(o.request={}),void 0===o.request.transforms&&(o.request.transforms=[]),void 0===o.response&&(o.response={}),void 0===o.response.transforms&&(o.response.transforms=[]),void 0===o.response.pagination&&(o.response.pagination=[]),o.EZ__Auth_Basic__enable&&!0===o.EZ__Auth_Basic__enable){let e;try{e=btoa((o.EZ__Auth_Basic__username||"")+":"+(o.EZ__Auth_Basic__password||""))}catch(t){e=btoa(":")}o.request.transforms.push({set:{target:"header.Authorization",value:e}})}if(o["request.body"]&&o["request.body"].length)try{o["request.body"]=JSON.parse(o["request.body"])}catch(n){delete o["request.body"]}const r=[{tag:"___set___",transform:"set"},{tag:"___append___",transform:"append"},{tag:"___delete___",transform:"delete"}];if(s(o["request.transforms"],r,o.request.transforms),s(o["response.transforms"],r,o.response.transforms),s(o["response.pagination"],r,o.response.pagination),o.cursor){const e={};for(const[t,n]of Object.entries(o.cursor)){let o,i=n;const l=String(i).split("ðŸ‘ˆ___default___");l&&l.length>=2&&(o=l.pop(),i=l.join("ðŸ‘ˆ___default___")),"ðŸš«"===o&&(o=void 0),null!==o&&""!==o&&+o===+o&&(o=Number(o));const s={};Object.defineProperty(s,t,{enumerable:!0,value:{value:i,default:o}}),Object.assign(e,s)}o.cursor=e}delete o.collectionShipper,delete o.collectionMethod,delete o.EZ__Auth_Basic__enable,delete o.EZ__Auth_Basic__username,delete o.EZ__Auth_Basic__password,delete o["request.transforms"],delete o["response.transforms"],delete o["response.pagination"],0===o.request.transforms.length&&delete o.request.transforms,0===o.response.transforms.length&&delete o.response.transforms,0===o.response.pagination.length&&delete o.response.pagination,0===Object.keys(o.request).length&&delete o.request,0===Object.keys(o.response).length&&delete o.response;const c=JSON.parse(JSON.stringify(o,((e,t)=>null===t?void 0:t)));return Object(l["dump"])([i()({type:a},c)])}catch(o){return o}}},"80b0":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"q-pa-md"},[n("q-table",{attrs:{title:"Pipelines",data:e.tableData,columns:e.columns,"row-key":"uid",dense:"","no-data-label":"No Pipeline to display.",filter:e.searchFilter,loading:e.tableLoading,"rows-per-page-label":"Pipelines per page:",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("div",{staticClass:"full-width row wrap justify-between"},[n("div",{staticClass:"q-table__title"},[e._v("\n            Pipelines\n          ")]),n("div",{staticClass:"row q-gutter-md"},[n("div",{staticClass:"col"},[n("q-btn",{staticStyle:{"min-width":"12rem"},attrs:{rounded:"",dense:"",color:"primary",icon:"add",label:"Add New Pipeline"},on:{click:function(t){return e.doPromptForPipelineDetails()}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n                  Create a new Pipeline.\n                ")])],1)],1)]),n("div",{staticClass:"row q-gutter-md"},[n("div",{staticStyle:{width:"300px"}},[n("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[e.searchFilter.length?n("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(t){e.searchFilter=""}}}):e._e(),n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1),n("q-btn",{attrs:{dense:"",outline:"",icon:"refresh"},on:{click:function(t){return e.loadPipelines()}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n                Reload the list of Pipelines.\n              ")])],1)],1)])]},proxy:!0},{key:"body-cell-actions",fn:function(t){return[n("q-td",{attrs:{props:t}},[n("q-btn",{attrs:{flat:"",dense:"",icon:"launch"},on:{click:function(n){return e.openPipeline(t.row)}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n              "+e._s(e.$t("Open this Pipeline"))+"\n            ")])],1),n("q-btn",{attrs:{flat:"",dense:"",icon:"edit"},on:{click:function(n){return e.doPromptForPipelineDetails(t.row)}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n              "+e._s(e.$t("Edit Pipeline details"))+"\n            ")])],1),n("q-btn",{attrs:{flat:"",dense:"",icon:"delete",color:"negative"},on:{click:function(n){return e.deletePipelinePrompt(t.row)}}},[n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n              "+e._s(e.$t("Delete Pipeline"))+"\n            ")])],1)],1)]}},{key:"body-cell-status",fn:function(t){return[n("q-td",{attrs:{props:t}},["Ready"===t.value?n("q-icon",{attrs:{name:"arrow_circle_up",color:"green",size:"md"}}):"Dev"===t.value?n("q-icon",{attrs:{name:"construction",color:e.darkIsEnabled?"green-3":"green-10",size:"md"}}):"New"===t.value?n("q-icon",{attrs:{name:"auto_awesome",size:"md"}}):n("q-icon",{attrs:{name:"help_center",color:"grey",size:"md"}}),n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n            "+e._s(t.value)+"\n          ")])],1)]}},{key:"body-cell-collectionShipper",fn:function(t){return[n("q-td",{attrs:{props:t}},[t.row&&t.row.collectionConfig&&t.row.collectionConfig.collectionShipper&&t.row.collectionConfig.collectionShipper.length?n("img",{attrs:{src:"/shippers/"+e.collectionShipperDetails(t.row.collectionConfig.collectionShipper).icon+".svg",width:"32px"}}):e._e(),n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[t.row&&t.row.collectionConfig&&t.row.collectionConfig.collectionShipper&&t.row.collectionConfig.collectionShipper.length?n("span",[e._v(e._s(e.collectionShipperDetails(t.row.collectionConfig.collectionShipper).label))]):e._e()])],1)]}},{key:"body-cell-collectionMethod",fn:function(t){return[n("q-td",{attrs:{props:t}},[t.row&&t.row.collectionConfig&&t.row.collectionConfig.collectionShipper&&t.row.collectionConfig.collectionShipper.length&&t.row.collectionConfig.collectionMethod&&t.row.collectionConfig.collectionMethod.length?n("q-icon",{attrs:{name:e.collectionMethodDetails(t.row.collectionConfig.collectionShipper,t.row.collectionConfig.collectionMethod).icon,size:"md"}}):e._e(),n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[t.row&&t.row.collectionConfig&&t.row.collectionConfig.collectionShipper&&t.row.collectionConfig.collectionShipper.length&&t.row.collectionConfig.collectionMethod&&t.row.collectionConfig.collectionMethod.length?n("span",[e._v(e._s(e.collectionMethodDetails(t.row.collectionConfig.collectionShipper,t.row.collectionConfig.collectionMethod).label))]):e._e()])],1)]}},{key:"body-cell-mappingStats",fn:function(t){return[n("q-td",{attrs:{props:t}},[t.row.fieldsMapping&&Array.isArray(t.row.fieldsMapping)&&t.row.fieldsMapping.length?n("div",[n("q-circular-progress",{attrs:{value:Math.round(t.value),"show-value":"","font-size":t.value<100?"0.5em":"0.4em",size:"2.8em",thickness:.2,color:e.darkIsEnabled?"blue-3":"blue-10","track-color":e.darkIsEnabled?"grey-9":"grey-3"}}),n("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[n("span",[e._v("Detected fields: "+e._s(t.row.fieldsMapping.length))]),n("br"),n("span",[e._v("Mapped fields: "+e._s(t.row.fieldsMapping.reduce((function(e,t){return t.mappedField&&t.mappedField.length>0?e+1:e}),0)))]),e._v("Â ("),n("span",{staticClass:"text-bold"},[e._v(e._s(Math.round(100*t.value)/100)+"%")]),e._v(")\n            ")])],1):e._e()])]}}])}),n("q-dialog",{attrs:{persistent:""},model:{value:e.promptForNewPipelineDetails,callback:function(t){e.promptForNewPipelineDetails=t},expression:"promptForNewPipelineDetails"}},[n("q-card",{staticStyle:{"min-width":"350px"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Pipeline Details")))])]),n("q-card-section",{staticClass:"q-pt-none"},[n("q-input",{attrs:{dense:"",autofocus:"",label:"Pipeline Name",rules:[function(t){return!!t||e.$t("Pipeline name cannot be empty")}]},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.promptForNewPipelineDetails=!1}},model:{value:e.newPipelineName,callback:function(t){e.newPipelineName=t},expression:"newPipelineName"}})],1),n("q-card-section",{staticClass:"q-pt-none"},[n("q-select",{attrs:{dense:"",options:e.openCollectorsOptions,label:"Primary Open Collector","emit-value":"","map-options":""},model:{value:e.newPipelineOpenCollector,callback:function(t){e.newPipelineOpenCollector=t},expression:"newPipelineOpenCollector"}})],1),e.newPipelineStatus?n("q-card-section",{staticClass:"q-pt-none q-mt-md"},[n("q-select",{attrs:{dense:"",options:e.statusOptions,label:"Status"},model:{value:e.newPipelineStatus,callback:function(t){e.newPipelineStatus=t},expression:"newPipelineStatus"}})],1):e._e(),n("q-card-actions",{staticClass:"text-primary q-mt-md",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("Cancel")}}),e.newPipelineUid&&e.newPipelineUid.length?n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("Update Pipeline"),disabled:!e.newPipelineName.length},on:{click:function(t){return e.updatePipeline()}}}):n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("Add new Pipeline"),disabled:!e.newPipelineName.length},on:{click:function(t){return e.updatePipeline()}}})],1)],1)],1)],1)},i=[],l=n("ded3"),s=n.n(l),a=n("2f62"),r=n("31c4"),c=n("c1dc"),p={name:"PagePipelinesList",mixins:[r["a"],c["a"]],data(){return{searchFilter:"",columns:[{name:"actions",align:"center",label:"Actions",field:"actions",sortable:!1},{name:"status",align:"center",label:"Status",field:"status",sortable:!0,sort:(e,t,n,o)=>this.statusTextToId(e)-this.statusTextToId(t)},{name:"name",align:"center",label:"Pipeline Name",field:"name",sortable:!0},{name:"openCollector",align:"center",label:"Primary Open Collector",field:"openCollector",sortable:!0},{name:"collectionShipper",align:"center",label:"Collecting Shipper",field:e=>e.collectionConfig.collectionShipper,sortable:!0},{name:"collectionMethod",align:"center",label:"Collection Method",field:e=>e.collectionConfig.collectionMethod,sortable:!0},{name:"mappingStats",align:"center",label:"Fields Mapped (%)",field:e=>e.fieldsMapping&&Array.isArray(e.fieldsMapping)&&e.fieldsMapping.length>0?e.fieldsMapping.reduce(((e,t)=>t.mappedField&&t.mappedField.length>0?e+1:e),0)/e.fieldsMapping.length*100:null,sortable:!0}],pagination:{sortBy:"status",descending:!0,rowsPerPage:25},promptForNewPipelineDetails:!1,newPipelineName:"",newPipelineOpenCollector:null,newPipelineUid:"",newPipelineStatus:null,statusOptions:["New","Dev","Ready"]}},computed:s()(s()(s()({},Object(a["d"])("mainStore",["collectionMethodsOptions","collectionShippersOptions"])),Object(a["c"])("mainStore",["openCollectors","pipelines"])),{},{tableData(){const e=[];return this.pipelines.forEach((t=>{const n=this.openCollectors.find((e=>e.uid===t.primaryOpenCollector));e.push(Object.assign({},t,{openCollector:n&&n.name&&n.hostname?n.name+" ("+n.hostname+")":null}))})),e},openCollectorsOptions(){const e=[];return this.openCollectors.forEach((t=>{e.push({value:t.uid,label:t.name+" ("+t.hostname+")"})})),e},tableLoading(){return this.dataLoading},darkIsEnabled(){return this.$q.dark.isActive}}),methods:s()(s()({},Object(a["b"])("mainStore",["upsertPipeline","deletePipeline","getPipelines","getOpenCollectors"])),{},{openPipeline(e){this.$router.push({path:"/Pipelines/"+e.uid+"/Properties"})},deletePipelinePrompt(e){"undefined"!==typeof e&&this.$q.dialog({title:"Confirm",message:"Do you REALLY want to delete this Pipeline?",ok:{push:!0,color:"negative"},cancel:{push:!0,color:"positive"},persistent:!0}).onOk((()=>{this.deletePipeline({pushToApi:!0,caller:this,pipeline:e})}))},doPromptForPipelineDetails(e){this.newPipelineUid=e&&e.uid?e.uid:null,this.newPipelineName=e&&e.name?e.name:"",this.newPipelineOpenCollector=e&&e.primaryOpenCollector?e.primaryOpenCollector:null,this.newPipelineStatus=e&&e.status?e.status:null,this.promptForNewPipelineDetails=!0},updatePipeline(){this.promptForNewPipelineDetails=!1,this.upsertPipeline({pushToApi:!0,caller:this,pipeline:{uid:this.newPipelineUid,name:this.newPipelineName,status:this.newPipelineStatus&&this.newPipelineStatus.length?this.newPipelineStatus:"New",primaryOpenCollector:this.newPipelineOpenCollector&&this.newPipelineOpenCollector.length?this.newPipelineOpenCollector:null}})},collectionMethodDetails(e,t){const n={value:"unknown",label:"Unknown or not set",icon:"help_center"};return e&&e.length&&t&&t.length?this.collectionMethodsOptions.find((n=>n.shipper&&n.shipper===e&&n.value&&n.value===t))||n:t},statusIdToText(e){let t="";return e>=3&&(t="Ready"),2===e&&(t="Dev"),1===e&&(t="New"),t},statusTextToId(e){let t=0;return"Ready"===e&&(t=3),"Dev"===e&&(t=2),"New"===e&&(t=1),t}}),mounted(){}},d=p,u=n("2877"),h=n("9989"),f=n("9c40"),m=n("eaac"),g=n("05c0"),_=n("27f9"),b=n("0016"),w=n("eb85"),P=n("db86"),y=n("58ea"),C=n("24e8"),v=n("f09f"),q=n("a370"),S=n("ddd8"),O=n("4b7e"),k=n("7f67"),N=n("eebe"),M=n.n(N),j=Object(u["a"])(d,o,i,!1,null,null,null);t["default"]=j.exports;M()(j,"components",{QPage:h["a"],QBtn:f["a"],QTable:m["a"],QTooltip:g["a"],QInput:_["a"],QIcon:b["a"],QSeparator:w["a"],QTd:P["a"],QCircularProgress:y["a"],QDialog:C["a"],QCard:v["a"],QCardSection:q["a"],QSelect:S["a"],QCardActions:O["a"]}),M()(j,"directives",{ClosePopup:k["a"]})},c1dc:function(e,t,n){"use strict";var o=n("ded3"),i=n.n(o),l=n("2f62"),s=n("5d0b");function a(e){try{const t=Object.assign({},e),n=t.collectionMethod||"";delete t.collectionShipper,delete t.collectionMethod;const o=JSON.parse(JSON.stringify(t,((e,t)=>null===t?void 0:t)));return JSON.stringify(i()({log_source_type:n},o),null,"  ")}catch(t){return t}}t["a"]={computed:i()({},Object(l["d"])("mainStore",["collectionShippersOptions","openCollectorBeats"])),methods:{collectionShipperDetails(e){const t={value:"unknown",label:"Unknown or not set",icon:"unknown",outputFormat:"json"};if(e&&e.length){const n=e.toLowerCase();return this.collectionShippersOptions.find((e=>e.value&&e.value.toLowerCase()===n))||this.collectionShippersOptions.find((e=>e.label&&e.label.toLowerCase()===n))||this.openCollectorBeats.find((e=>e.label&&e.label.toLowerCase()===n))||t}return t},collectionConfigOutputFor(e,t){return"yaml"===e||"yml"===e?Object(s["a"])(t):"json"===e?a(t):""}}}}}]);