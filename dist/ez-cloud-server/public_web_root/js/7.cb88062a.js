(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"31c4":function(e,t,i){"use strict";var o=i("ded3"),n=i.n(o),l=i("2f62");t.a={data:()=>({pipelinesLoading:!1,collectorsLoading:!1}),computed:n()(n()({},Object(l.c)("mainStore",["openCollectors","pipelines"])),{},{dataLoading(){return this.collectorsLoading||this.pipelinesLoading}}),methods:n()(n()({},Object(l.b)("mainStore",["getOpenCollectors","getPipelines"])),{},{loadOpenCollectors(){this.getOpenCollectors({loadingVariableName:"collectorsLoading",caller:this})},loadPipelines(){this.getPipelines({loadingVariableName:"pipelinesLoading",caller:this})}}),mounted(){0===this.openCollectors.length&&this.loadOpenCollectors(),this.pipelines&&0===this.pipelines.length&&this.loadPipelines()}}},"5d0b":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var o=i("ded3"),n=i.n(o),l=(i("ddb0"),i("ac1f"),i("651e"));function s(e,t,i){if(e&&"object"==typeof e&&t&&Array.isArray(t)&&i&&"object"==typeof i)for(const[o,n]of Object.entries(e)){let e,l="",s="";const p=String(n).split("ðŸ‘‰");p&&p.length>=2&&(l=p.shift(),s=p.join("ðŸ‘‰"));const a=String(s).split("ðŸ‘ˆ___default___");a&&a.length>=2&&(e=a.pop(),s=a.join("ðŸ‘ˆ___default___"));const c=t.find((e=>e.tag===l));if(l=c&&c.transform&&c.transform.length?c.transform:"","ðŸš«"===e&&(e=void 0),null!==e&&""!==e&&+e==+e&&(e=Number(e)),o&&o.length&&l&&l.length){const t={};Object.defineProperty(t,l,{enumerable:!0,value:{target:o,value:s,default:e}}),"delete"===l&&(delete t[l].value,delete t[l].default),i.push(t)}}}function p(e){try{const t=Object.assign({},e);let i=t.collectionMethod||"";if("syslog_udp"===i&&(i="syslog"),"syslog_tcp"===i&&(i="syslog"),void 0===t.request&&(t.request={}),void 0===t.request.transforms&&(t.request.transforms=[]),void 0===t.response&&(t.response={}),void 0===t.response.transforms&&(t.response.transforms=[]),void 0===t.response.pagination&&(t.response.pagination=[]),t.EZ__Auth_Basic__enable&&!0===t.EZ__Auth_Basic__enable){let e;try{e=btoa((t.EZ__Auth_Basic__username||"")+":"+(t.EZ__Auth_Basic__password||""))}catch(t){e=btoa(":")}t.request.transforms.push({set:{target:"header.Authorization",value:e}})}if(t["request.body"]&&t["request.body"].length)try{t["request.body"]=JSON.parse(t["request.body"])}catch(e){delete t["request.body"]}const o=[{tag:"___set___",transform:"set"},{tag:"___append___",transform:"append"},{tag:"___delete___",transform:"delete"}];if(s(t["request.transforms"],o,t.request.transforms),s(t["response.transforms"],o,t.response.transforms),s(t["response.pagination"],o,t.response.pagination),t.cursor){const e={};for(const[i,o]of Object.entries(t.cursor)){let t,n=o;const l=String(n).split("ðŸ‘ˆ___default___");l&&l.length>=2&&(t=l.pop(),n=l.join("ðŸ‘ˆ___default___")),"ðŸš«"===t&&(t=void 0),null!==t&&""!==t&&+t==+t&&(t=Number(t));const s={};Object.defineProperty(s,i,{enumerable:!0,value:{value:n,default:t}}),Object.assign(e,s)}t.cursor=e}delete t.collectionShipper,delete t.collectionMethod,delete t.EZ__Auth_Basic__enable,delete t.EZ__Auth_Basic__username,delete t.EZ__Auth_Basic__password,delete t["request.transforms"],delete t["response.transforms"],delete t["response.pagination"],0===t.request.transforms.length&&delete t.request.transforms,0===t.response.transforms.length&&delete t.response.transforms,0===t.response.pagination.length&&delete t.response.pagination,0===Object.keys(t.request).length&&delete t.request,0===Object.keys(t.response).length&&delete t.response;const p=JSON.parse(JSON.stringify(t,((e,t)=>null===t?void 0:t)));return Object(l.dump)([n()({type:i},p)])}catch(e){return e}}},"9fa1":function(e,t,i){"use strict";var o=i("ded3"),n=i.n(o),l=i("2f62");t.a={data(){return{socket:this.$socket}},computed:n()({},Object(l.d)("mainStore",["jwtToken"])),methods:{connectSocket(){this.socket&&this.socket.connected&&this.socket.disconnect(),this.socket.auth.token=this.jwtToken,this.socket.connect()},disconnectSocket(){this.socket&&this.socket.connected&&this.socket.disconnect()}}}},d184:function(e,t,i){"use strict";i.r(t);var o=i("ded3"),n=i.n(o),l=(i("13d5"),i("2f62")),s=i("31c4"),p=i("9fa1"),a=i("a357"),c=i("cdde"),r=i("5d0b"),d={name:"PagePipelineProperties",mixins:[s.a,p.a],data:()=>({pipelineUid:""}),computed:n()(n()(n()({},Object(l.c)("mainStore",["openCollectors","pipelines"])),Object(l.d)("mainStore",["collectionMethodsOptions","collectionShippersOptions"])),{},{pipeline(){return this.pipelines.find((e=>e.uid===this.pipelineUid))||{uid:"",name:"",status:"New",primaryOpenCollector:"",fieldsMapping:[],collectionConfig:{}}},detectedFields(){return this.pipeline.fieldsMapping&&Array.isArray(this.pipeline.fieldsMapping)?this.pipeline.fieldsMapping.length:0},mappedFields(){return this.pipeline.fieldsMapping&&Array.isArray(this.pipeline.fieldsMapping)?this.pipeline.fieldsMapping.reduce(((e,t)=>t.mappedField&&t.mappedField.length>0?e+1:e),0):0},collectionMethod(){return this.pipeline.collectionConfig&&this.pipeline.collectionConfig.collectionMethod?this.pipeline.collectionConfig.collectionMethod:""},collectionShipper(){return this.pipeline.collectionConfig&&this.pipeline.collectionConfig.collectionShipper?this.pipeline.collectionConfig.collectionShipper:""},collectionMethodOption(){return this.collectionMethod&&this.collectionMethod.length&&this.collectionMethodsOptions.find((e=>e.value&&e.value===this.collectionMethod))||{value:"unknown",label:"Unknown or not set",icon:"help_center"}},collectionShipperOption(){return this.collectionShipper&&this.collectionShipper.length&&this.collectionShippersOptions.find((e=>e.value&&e.value===this.collectionShipper))||{value:"unknown",label:"Unknown or not set",icon:"unknown",outputFormat:"json"}},collectionConfigOutput(){let e="";return this.collectionShipper&&this.collectionShipper.length?this.collectionShipperOption&&this.collectionShipperOption.outputFormat&&this.collectionShipperOption.outputFormat.length?this.collectionMethod&&this.collectionMethod.length?"yaml"===this.collectionShipperOption.outputFormat||"yml"===this.collectionShipperOption.outputFormat?e=Object(r.a)(this.pipeline.collectionConfig):"json"===this.collectionShipperOption.outputFormat&&(e=function(e){try{const t=Object.assign({},e),i=t.collectionMethod||"";delete t.collectionShipper,delete t.collectionMethod;const o=JSON.parse(JSON.stringify(t,((e,t)=>null===t?void 0:t)));return JSON.stringify(n()({log_source_type:i},o),null,"  ")}catch(e){return e}}(this.pipeline.collectionConfig)):e="# No Collection Method configured.":e="# Unknown output format.":e="# No Collecting Shipper configured.",e}}),methods:n()(n()({},Object(l.b)("mainStore",["upsertPipeline"])),{},{editPipelineCollection(){this.$router.push({path:"/Pipelines/"+this.pipelineUid+"/Collection/Edit"})},editPipelineMapping(){this.$router.push({path:"/Pipelines/"+this.pipelineUid+"/Mapping/Edit"})},deleteMappingPrompt(){this.$q.dialog({title:"Confirm",message:"Do you REALLY want to delete the Mapping information for this Pipeline?",ok:{push:!0,color:"negative"},cancel:{push:!0,color:"positive"},persistent:!0}).onOk((()=>{this.deleteMapping()}))},deleteMapping(){this.pipelineUid&&this.pipelineUid.length&&this.upsertPipeline({caller:this,pushToApi:!0,pipeline:{uid:this.pipelineUid,fieldsMapping:[]}})},deleteCollectionPrompt(){this.$q.dialog({title:"Confirm",message:"Do you REALLY want to delete the Collection information for this Pipeline?",ok:{push:!0,color:"negative"},cancel:{push:!0,color:"positive"},persistent:!0}).onOk((()=>{this.deleteCollection()}))},deleteCollection(){this.pipelineUid&&this.pipelineUid.length&&this.upsertPipeline({caller:this,pushToApi:!0,pipeline:{uid:this.pipelineUid,collectionConfig:{}}})},downloadCollectionAsShipperConfigFile(){let e=".txt",t="text/plain";this.collectionShipperOption&&this.collectionShipperOption.outputFormat&&this.collectionShipperOption.outputFormat.length&&("yaml"===this.collectionShipperOption.outputFormat||"yml"===this.collectionShipperOption.outputFormat?(e=".yml",t="text/yaml"):"json"===this.collectionShipperOption.outputFormat&&(e=".json",t="application/json"));const i="input."+this.pipeline.name+"_"+this.pipeline.uid+e,o=this.$q.notify({icon:"cloud_download",message:this.$t("Downloading Collection Configuration file..."),caption:i,type:"ongoing"}),n=Object(a.a)(i,this.collectionConfigOutput,t);!0===n?o({type:"positive",color:"positive",icon:"check",message:this.$t("Collection Configuration file downloaded"),caption:i}):(o({type:"negative",color:"negative",icon:"report_problem",message:this.$t("Problem while downloading Collection Configuration file:"),caption:n}),console.log("Error: "+n))},copyCollectionConfigAsShipperFileToClipboard(){Object(c.a)(this.collectionConfigOutput).then((()=>{this.$q.notify({type:"positive",color:"positive",icon:"check",message:this.$t("Collection Configuration copied to Clipboard")})})).catch((()=>{this.$q.notify({type:"negative",color:"negative",icon:"report_problem",message:this.$t("Problem while copying Collection Configuration file to Clipboard")})}))}}),mounted(){this.$route.params.pipelineUid&&this.$route.params.pipelineUid.length&&this.pipelineUid!==this.$route.params.pipelineUid&&(this.pipelineUid=this.$route.params.pipelineUid)}},h=i("2877"),u=i("9989"),g=i("e359"),f=i("b498"),m=i("65c6"),_=i("9c40"),C=i("6ac5"),b=i("f09f"),v=i("a370"),q=i("0016"),y=i("eb85"),O=i("4b7e"),S=i("05c0"),M=i("eebe"),k=i.n(M),w=Object(h.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"q-pa-sm"},[i("q-header",{staticStyle:{background:"var(--q-color-dark)"},attrs:{elevated:""}},[i("q-toolbar",{staticClass:"q-gutter-x-sm"},[i("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"arrow_back",label:"Return to List",to:"/Pipelines"}}),i("q-toolbar-title",{staticClass:"text-center",staticStyle:{opacity:".4"}},[e._v("Pipeline Properties"),e.pipeline&&e.pipeline.name&&e.pipeline.name.length?i("span",[e._v(":  "+e._s(e.pipeline.name))]):e._e()])],1)],1),i("div",{staticClass:" q-gutter-y-sm"},[i("q-card",[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4"},[e._v("\n              Collection\n          ")]),i("q-card-section",{staticClass:"row items-center"},[i("span",{staticClass:"text-bold"},[e._v("Shipper and Method: ")]),i("div",{staticClass:"q-ml-md text-center"},[e.collectionShipperOption.icon&&e.collectionShipperOption.icon.length?i("img",{attrs:{src:"/shippers/"+e.collectionShipperOption.icon+".svg",width:"64px"}}):e._e(),i("div",[e._v(e._s(e.collectionShipperOption.label))])]),i("div",{staticClass:"q-ml-xl text-center"},[i("q-icon",{attrs:{name:e.collectionMethodOption.icon,size:"64px"}}),i("div",[e._v(e._s(e.collectionMethodOption.label))])],1)]),i("q-card-section",[i("div",{},[i("div",{staticClass:"text-bold"},[e._v("Collection Configuration:")]),i("div",{staticClass:"row q-my-sm"},[i("q-separator",{attrs:{vertical:"",size:"2px",color:"teal"}}),i("div",{staticClass:"q-ml-sm"},[i("pre",[e._v(e._s(e.collectionConfigOutput))])])],1)])])],1),i("q-separator",{attrs:{vertical:""}}),i("q-card-actions",{staticClass:"justify-around q-px-md",attrs:{vertical:""}},[i("q-btn",{attrs:{icon:"edit",color:"primary",to:"/Pipelines/"+this.pipelineUid+"/Collection/Edit"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Edit Collection\n              ")])],1),i("q-btn",{attrs:{icon:"download"},on:{click:function(t){return e.downloadCollectionAsShipperConfigFile()}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Download Collection configuration as a Shipper configuration file\n              ")])],1),i("q-btn",{attrs:{icon:"content_copy"},on:{click:function(t){return e.copyCollectionConfigAsShipperFileToClipboard()}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Copy Collection configuration in Shipper's format to Clipboard\n              ")])],1),i("q-btn",{attrs:{icon:"delete","text-color":"negative"},on:{click:function(t){return e.deleteCollectionPrompt()}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Delete Collection Configuration\n              ")])],1)],1)],1)],1),i("q-card",[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4"},[e._v("\n              Mapping\n          ")]),i("q-card-section",[i("span",{staticClass:"text-bold"},[e._v("Fields detected: ")]),e._v(e._s(e.detectedFields)+"\n          ")]),i("q-card-section",[i("span",{staticClass:"text-bold"},[e._v("Fields mapped: ")]),e._v(e._s(e.mappedFields)+"\n          ")])],1),i("q-separator",{attrs:{vertical:""}}),i("q-card-actions",{staticClass:"justify-around q-px-md",attrs:{vertical:""}},[i("q-btn",{attrs:{icon:"edit",color:"primary",to:"/Pipelines/"+this.pipelineUid+"/Mapping/Edit"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Edit Mapping\n              ")])],1),i("q-btn",{attrs:{icon:"download",disable:""}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Download Mapping as JQ Pipeline\n              ")])],1),i("q-btn",{attrs:{icon:"delete","text-color":"negative"},on:{click:function(t){return e.deleteMappingPrompt()}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Delete Mapping\n              ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=w.exports,k()(w,"components",{QPage:u.a,QHeader:g.a,QColor:f.a,QToolbar:m.a,QBtn:_.a,QToolbarTitle:C.a,QCard:b.a,QCardSection:v.a,QIcon:q.a,QSeparator:y.a,QCardActions:O.a,QTooltip:S.a})}}]);