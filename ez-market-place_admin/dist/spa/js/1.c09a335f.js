(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"713b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"lHh lpR fFf"}},[a("q-drawer",{staticClass:"column",attrs:{"show-if-above":"",mini:e.miniState,"mini-to-overlay":"",width:250,breakpoint:500,bordered:""},on:{mouseover:function(t){e.miniState=!1},mouseout:function(t){e.miniState=!0}},model:{value:e.drawerMenuOpen,callback:function(t){e.drawerMenuOpen=t},expression:"drawerMenuOpen"}},[a("div",{staticClass:"yep fit column"},[a("div",{staticClass:"col"},[a("q-scroll-area",{staticClass:"fit"},[a("q-list",{attrs:{padding:""}},e._l(e.mainLinks,(function(t){return a("EssentialLink",e._b({key:t.title},"EssentialLink",t,!1))})),1)],1)],1),a("q-list",{staticClass:"col-auto"},e._l(e.lowLinks,(function(t,i){return a("EssentialLink",e._b({key:i},"EssentialLink",t,!1))})),1),a("div",{staticClass:"text-center"},[a("span",{staticStyle:{opacity:".4","font-size":".75em"}},[e._v("v"+e._s(e.version))])]),a("div",{staticClass:"text-center"},[a("span",{staticStyle:{"font-size":".75em"}},[e._v(e._s(e.userIsLoggedIn))])])],1)]),a("q-page-container",[a("router-view")],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.showErrorPanel,callback:function(t){e.showErrorPanel=t},expression:"showErrorPanel"}},[a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",{staticClass:"q-pb-none"},[a("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("What did just go wrong?")))])]),e.errorPanelDetails&&Array.isArray(e.errorPanelDetails)&&e.errorPanelDetails.length>1?a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"text-bold text-italic"},[e._v(e._s(e.errorPanelDetails.length)+" errors occured.")])]):e.errorPanelDetails&&Array.isArray(e.errorPanelDetails)?a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"text-bold text-italic"},[e._v(e._s(e.errorPanelDetails.length)+" error occured.")])]):e._e(),e._l(e.errorPanelDetails,(function(t,i){return a("q-card-section",{key:i},[a("div",{},[a("div",{staticClass:"row q-my-sm"},[a("q-separator",{attrs:{vertical:"",size:"2px",color:"orange"}}),a("div",{staticClass:"q-ml-sm"},[a("div",{staticClass:"text-overline"},[e._v("Message Code:")]),a("div",{staticClass:"q-ml-sm text-bold"},[e._v(e._s(t.code))]),a("div",{staticClass:"q-mt-sm text-overline"},[e._v("Message:")]),a("div",{staticClass:"q-ml-sm text-italic"},[e._v(e._s(t.message))]),a("div",{staticClass:"q-mt-sm text-overline"},[e._v("More information available at:")]),a("div",{staticClass:"q-ml-sm"},[a("a",{staticClass:"text-primary",attrs:{href:t.wikiLink,target:"_blank"}},[e._v(e._s(t.wikiLink))])])])],1)])])})),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary","text-color":"white",label:e.$t("Close")}})],1)],2)],1)],1)},r=[],s=(a("5319"),a("2f62")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==e.title?a("q-item",{attrs:{clickable:"",tag:"a",href:e.link}},[e.icon?a("q-item-section",{attrs:{side:""}},[a("q-avatar",{staticClass:"q-pa-none",attrs:{size:"24px",square:""}},[a("q-icon",{attrs:{name:e.icon,size:"sm",color:e.isPageActive?"primary":""}}),null!==e.notification?a("q-badge",{attrs:{floating:"",rounded:"",color:e.notificationColor,"text-color":e.notificationTextColor,label:e.notification}}):e._e()],1)],1):e._e(),a("q-item-section",[a("q-item-label",{class:e.isPageActive?"text-primary":""},[e.caption.length||e.needsPriviledge?a("q-icon",{attrs:{name:e.userIsLoggedIn?"lock_open":"lock",size:"1.5em",left:"",color:"secondary"}}):e._e(),e._v(e._s(e.title))],1),e.caption.length||e.needsPriviledge?a("q-item-label",{staticClass:"text-italic",attrs:{caption:""}},[e._v("\n      "+e._s(e.caption)+"\n    ")]):e._e()],1)],1):!0===e.spacer?a("q-item"):!0===e.separator?a("q-separator",{staticClass:"q-my-xs"}):e._e()},n=[],l={name:"EssentialLink",props:{title:{type:String,default:null},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""},notification:{type:[String,Number],default:null},notificationColor:{type:String,default:"orange"},notificationTextColor:{type:String,default:"white"},spacer:{type:Boolean,default:!1},separator:{type:Boolean,default:!1},needsPriviledge:{type:Boolean,default:!1}},computed:{...Object(s["c"])("mainStore",["userIsLoggedIn"]),isPageActive(){if(this.$route.path&&this.$route.path.length){const e=this.link.replace("#/","/");return this.$route.path.startsWith(e,0)}return!1}}},c=l,d=a("2877"),p=a("66e5"),u=a("4074"),m=a("cb32"),g=a("0016"),h=a("58a81"),k=a("0170"),f=a("eb85"),v=a("eebe"),w=a.n(v),b=Object(d["a"])(c,o,n,!1,null,null,null),_=b.exports;w()(b,"components",{QItem:p["a"],QItemSection:u["a"],QAvatar:m["a"],QIcon:g["a"],QBadge:h["a"],QItemLabel:k["a"],QSeparator:f["a"]});var L=a("9224"),q=a("bd4c"),C={name:"MainLayout",components:{EssentialLink:_},mixins:[],data(){return{drawerMenuOpen:!1,miniState:!0,version:L["b"],showErrorPanel:!1,errorPanelDetails:[]}},computed:{...Object(s["d"])("mainStore",["loggedInUser","errorWikiUrlBase","ezMarketNotification"]),...Object(s["c"])("mainStore",["userIsLoggedIn"]),mainLinks(){return[{title:"",icon:"home",link:"Welcome"},{title:"Stats",icon:"dashboard",link:"Stats"},{separator:!0},{title:"Admin Pipelines",icon:"verified_user",link:"Admin/Templates",caption:this.userIsLoggedIn?"Authenticated":"Requires authentication",needsPriviledge:!0},{title:"Admin Users",icon:"admin_panel_settings",link:"Admin/RBAC",caption:this.userIsLoggedIn?"Authenticated":"Requires authentication",needsPriviledge:!0}]},lowLinks(){return[{title:"Settings",icon:"settings",link:"Settings"},{separator:!0},this.userIsLoggedIn?{title:"Log Out",icon:"logout",link:"Logout"}:{title:"Log In",icon:"login",link:"Login"}]}},methods:{sanitiseWikiLinks(e){try{return String(e).toLowerCase().replace(/[^a-zA-Z0-9_-]/g,"").replace(/ /g,"-")}catch(t){return null}},prepareAndShowErrorPanel(e){if(console.log("prepareAndShowErrorPanel",e),this.errorPanelDetails=[],e&&e.data&&e.data.errors&&Array.isArray(e.data.errors)&&e.data.errors.length)e.data.errors.forEach((e=>{const t=Date.now();this.errorPanelDetails.push({timestamp:t,timestampIso:q["a"].formatDate(t,"YYYY-MM-DDTHH:mm:ss.SSSZ"),code:(e&&null!=e.number?e.number:e.code)||"N/A",message:e&&e.message?e.message:"Unknown error. See Console.",wikiLink:e&&e.message?e&&null!=e.number?this.errorWikiUrlBase+this.sanitiseWikiLinks(e.number):this.errorWikiUrlBase+this.sanitiseWikiLinks(e.code):this.errorWikiUrlBase+"unknown-error-see-console"})}));else{const t=Date.now();this.errorPanelDetails.push({timestamp:t,timestampIso:q["a"].formatDate(t,"YYYY-MM-DDTHH:mm:ss.SSSZ"),code:e&&e.code?e.code:"N/A",message:e&&e.messageForLogAndPopup?e.messageForLogAndPopup:e&&e.captionForLogAndPopup?e.captionForLogAndPopup:"Unknown error. See Console.",wikiLink:e&&e.code?this.errorWikiUrlBase+e.code:e&&e.messageForLogAndPopup||e&&e.captionForLogAndPopup?null:this.errorWikiUrlBase+"unknown-error-see-console"})}this.showErrorPanel=!0,this.errorPanelDetails.forEach((e=>{console.log("ðŸ“œ [LOG] |",e.timestampIso,"| Code:",e.code,"| Message:",e.message,"| WikiLink:",e.wikiLink)}))},updateEzMarketNotificationNumber(e){const t=this.lowLinks.find((e=>"ezMarketPlace"===e.id));t&&(t.notification=e)}},watch:{ezMarketNotification:{handler(e){this.updateEzMarketNotificationNumber(e)},immediate:!0}},mounted(){this.$root.$on("addAndShowErrorToErrorPanel",this.prepareAndShowErrorPanel)},beforeDestroy(){this.$root.$off("addAndShowErrorToErrorPanel")}},P=C,S=a("4d5a"),y=a("9404"),A=a("4983"),x=a("1c1c"),D=a("09e3"),E=a("24e8"),I=a("f09f"),M=a("a370"),Q=a("4b7e"),W=a("9c40"),z=a("7f67"),B=Object(d["a"])(P,i,r,!1,null,null,null);t["default"]=B.exports;w()(B,"components",{QLayout:S["a"],QDrawer:y["a"],QScrollArea:A["a"],QList:x["a"],QPageContainer:D["a"],QDialog:E["a"],QCard:I["a"],QCardSection:M["a"],QSeparator:f["a"],QCardActions:Q["a"],QBtn:W["a"]}),w()(B,"directives",{ClosePopup:z["a"]})}}]);