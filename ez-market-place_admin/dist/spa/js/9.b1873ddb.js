(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"3f60":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"q-gutter-sm q-pa-xl"},[i("q-card",{staticClass:"q-pa-md q-mx-none"},[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4"},[e._v("\n              Publishers\n          ")]),i("q-card-section",[i("q-table",{attrs:{data:e.tableData,columns:e.columns,"row-key":"publisherUid",dense:"","no-data-label":"No Publisher to display.",filter:e.searchFilter,loading:e.dataLoading,"rows-per-page-label":"Publishers per page:",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[i("div",{staticClass:"full-width row wrap justify-between"},[i("div",{staticClass:"q-table__title"},[e._v("\n                    Publishers\n                  ")]),i("div",{staticClass:"row q-gutter-md"},[i("div",{staticClass:"col"},[i("q-btn",{staticStyle:{"min-width":"14rem"},attrs:{rounded:"",dense:"",color:"primary",icon:"add",label:"Add New Publisher"},on:{click:function(t){return e.addNewPublisher()}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n                          Create a new Publisher.\n                        ")])],1)],1)]),i("div",{staticClass:"row q-gutter-md"},[i("div",{staticStyle:{width:"300px"}},[i("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[e.searchFilter.length?i("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:function(t){e.searchFilter=""}}}):e._e(),i("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1),i("q-btn",{attrs:{dense:"",outline:"",icon:"refresh",loading:e.dataLoading},on:{click:function(t){return e.loadPublishers()}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n                        Reload the list of Publishers.\n                      ")])],1)],1)])]},proxy:!0},{key:"body-cell-actions",fn:function(t){return[i("q-td",{attrs:{props:t}},[i("q-btn",{attrs:{flat:"",dense:"",icon:"edit"},on:{click:function(i){return e.doPromptForPublisherEdit(t.row)}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[e._v("\n                      "+e._s(e.$t("Rename Publisher"))+"\n                    ")])],1),i("q-btn",{attrs:{icon:"delete",flat:"",dense:"",color:"negative"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                      "+e._s(e.$t("Delete"))+"\n                    ")]),i("q-menu",{attrs:{"content-class":"bg-negative text-white",anchor:"top right",self:"top left"}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(i){return e.deletePublisherById(t.row.publisherUid)}}},[i("q-item-section",[e._v("Confirm")])],1)],1)],1)],1)],1)]}},{key:"body-cell-identicon",fn:function(e){return[i("q-td",{attrs:{props:e}},[i("Identicon",{attrs:{identity:e.value}})],1)]}}])})],1)],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.showPublisherEdit,callback:function(t){e.showPublisherEdit=t},expression:"showPublisherEdit"}},[i("q-card",{staticStyle:{"min-width":"500px"}},[i("q-card-section",[null!=e.editingPublisherUid?i("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Edit Publisher")))]):i("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("New Publisher")))])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-input",{attrs:{dense:"",label:"Display Name",autofocus:"",rules:[function(t){return!!t||e.$t("Display Name cannot be empty")}]},on:{keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showPublisherEdit=!1},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkUpdatePublisherAndClose()}]},model:{value:e.editingPublisherDisplayName,callback:function(t){e.editingPublisherDisplayName=t},expression:"editingPublisherDisplayName"}})],1),i("q-separator"),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("Cancel")}}),null!=e.editingPublisherUid?i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("Update Publisher"),disabled:!(e.editingPublisherDisplayName&&e.editingPublisherDisplayName.length)},on:{click:function(t){return e.addNewOrUpdatePublisher()}}}):i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("Add new Publisher"),disabled:!(e.editingPublisherDisplayName&&e.editingPublisherDisplayName.length)},on:{click:function(t){return e.addNewOrUpdatePublisher()}}})],1)],1)],1)],1)},a=[],l=i("2f62"),n=i("a87d"),r=i("da35"),o={name:"PageAdminPublishers",mixins:[n["a"]],components:{Identicon:r["a"]},data(){return{searchFilter:"",columns:[{name:"actions",align:"center",label:"Actions",field:"actions",sortable:!1},{name:"publisherUid",align:"center",label:"UID",field:"publisherUid",sortable:!0},{name:"identicon",align:"center",label:"Identicon",field:"displayName",sortable:!0},{name:"displayName",align:"center",label:"Display Name",field:"displayName",sortable:!0,classes:"",style:"white-space: pre-line;"},{name:"pipelineTemplatesAuthored",align:"center",label:"Published Pipeline Templates",field:"pipelineTemplatesAuthored",sortable:!0,format:e=>e>0?e:"·"},{name:"messagesSent",align:"center",label:"Sent Messages",field:"messagesSent",sortable:!0,format:e=>e>0?e:"·"},{name:"messagesReceived",align:"center",label:"Received Messages",field:"messagesReceived",sortable:!0,format:e=>e>0?e:"·"}],pagination:{sortBy:"displayName",descending:!1,rowsPerPage:20},statusesLoading:!1,publishersLoading:!1,showPublisherEdit:!1,editingPublisherUid:null,editingPublisherDisplayName:null}},computed:{...Object(l["d"])("mainStore",["ezMarketPublishers"]),tableData(){return this.ezMarketPublishers},dataLoading(){return this.publishersLoading}},methods:{...Object(l["b"])("mainStore",["getPublishers","updatePublisher","deletePublisher"]),loadPublishers(){this.getPublishers({loadingVariableName:"publishersLoading",caller:this})},doPromptForPublisherEdit(e){e&&(this.showPublisherEdit=!0,this.editingPublisherUid=e.publisherUid||null,this.editingPublisherDisplayName=e.displayName||null)},addNewPublisher(){this.doPromptForPublisherEdit({publisherUid:null,displayName:null})},deletePublisherById(e){console.log("deletePublisherById",e),this.deletePublisher({publisherUid:e,loadingVariableName:"publishersLoading",caller:this,onSuccessCallBack:this.loadPublishers,onErrorCallBack:this.addNewOrUpdatePublisherFailure})},checkUpdatePublisherAndClose(){this.editingPublisherDisplayName&&this.editingPublisherDisplayName.length&&(this.addNewOrUpdatePublisher(),this.showPublisherEdit=!1)},addNewOrUpdatePublisher(){console.log("addNewOrUpdatePublisher"),this.updatePublisher({publisherUid:this.editingPublisherUid,displayName:this.editingPublisherDisplayName,loadingVariableName:"publishersLoading",caller:this,onSuccessCallBack:this.loadPublishers,onErrorCallBack:this.addNewOrUpdatePublisherFailure})},addNewOrUpdatePublisherFailure(e){this.$root.$emit("addAndShowErrorToErrorPanel",e),this.loadPublishers()}},mounted(){this.loadPublishers()}},d=o,c=i("2877"),u=i("9989"),p=i("f09f"),h=i("a370"),b=i("eaac"),m=i("9c40"),g=i("05c0"),P=i("27f9"),f=i("0016"),y=i("db86"),w=i("4e73"),q=i("1c1c"),v=i("66e5"),N=i("4074"),k=i("24e8"),C=i("eb85"),U=i("4b7e"),_=i("7f67"),S=i("eebe"),D=i.n(S),E=Object(c["a"])(d,s,a,!1,null,null,null);t["default"]=E.exports;D()(E,"components",{QPage:u["a"],QCard:p["a"],QCardSection:h["a"],QTable:b["a"],QBtn:m["a"],QTooltip:g["a"],QInput:P["a"],QIcon:f["a"],QTd:y["a"],QMenu:w["a"],QList:q["a"],QItem:v["a"],QItemSection:N["a"],QDialog:k["a"],QSeparator:C["a"],QCardActions:U["a"]}),D()(E,"directives",{ClosePopup:_["a"]})},a87d:function(e,t,i){"use strict";t["a"]={computed:{darkMode:{get(){return this.$q.dark.isActive},set(e){this.$q.dark.set(e),localStorage.setItem("settings.darkMode",e)}}}}},da35:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{domProps:{innerHTML:e._s(e.identiconAsSvg)}})},a=[],l=i("cd07"),n={name:"Identicon",props:{identity:{type:String,default:null}},computed:{identiconAsSvg(){return Object(l["a"])(this.identity,50)}}},r=n,o=i("2877"),d=Object(o["a"])(r,s,a,!1,null,null,null);t["a"]=d.exports}}]);