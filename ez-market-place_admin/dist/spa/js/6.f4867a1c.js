(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{1:function(e,t){},2675:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.safePngBase64?i("q-img",{style:"width: "+e.size+"px; max-height: "+e.size+"px",attrs:{src:e.safePngBase64,contain:""}}):e._e()},n=[],o=(i("b7ef"),{name:"IconPicture",props:{pngBase64:{type:String,default:null},size:{type:Number,default:40}},computed:{safePngBase64(){let e=null;if(this.pngBase64&&this.pngBase64.length)try{const t=btoa(atob(this.pngBase64));e=`data:image/png;base64,${t}`}catch(t){}return e}}}),l=o,s=i("2877"),r=i("068f"),p=i("eebe"),c=i.n(p),d=Object(s["a"])(l,a,n,!1,null,null,null);t["a"]=d.exports;c()(d,"components",{QImg:r["a"]})},a87d:function(e,t,i){"use strict";t["a"]={computed:{darkMode:{get(){return this.$q.dark.isActive},set(e){this.$q.dark.set(e),localStorage.setItem("settings.darkMode",e)}}}}},da35:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{domProps:{innerHTML:e._s(e.identiconAsSvg)}})},n=[],o=i("cd07"),l={name:"Identicon",props:{identity:{type:String,default:null}},computed:{identiconAsSvg(){return Object(o["a"])(this.identity,50)}}},s=l,r=i("2877"),p=Object(r["a"])(s,a,n,!1,null,null,null);t["a"]=p.exports},fdcc:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"q-pa-xl"},[i("q-header",{class:e.darkMode?"":"bg-grey-1",style:e.darkMode?"background: var(--q-color-dark);":"",attrs:{elevated:""}},[i("q-toolbar",{staticClass:"q-gutter-x-sm",class:e.darkMode?"":"text-black"},[i("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"arrow_back",label:"Return to Pipeline Templates",to:"/Admin/PipelineTemplates"}}),i("q-separator",{attrs:{vertical:""}}),i("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"save",label:"Save",color:"primary",disabled:!e.needsSaving},on:{click:function(t){return e.save()}}}),i("q-btn",{attrs:{"no-caps":"",flat:"",dense:"",icon:"restore",label:"Reverse to last saved"},on:{click:function(t){return e.reverseToLastSaved()}}}),i("q-toolbar-title",{staticClass:"text-center",staticStyle:{opacity:".4"}},[e._v("Admin : Pipeline Templates : Review Template"),e.pipelineTemplateName&&e.pipelineTemplateName.length?i("span",[e._v(":  "+e._s(e.pipelineTemplateName))]):e._e()])],1)],1),i("div",{staticClass:"q-gutter-sm"},[i("q-card",{staticClass:"q-pa-md q-mx-none"},[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4"},[e._v("\n              Properties\n          ")]),i("q-card-section",{staticClass:"row"},[i("div",[i("IconPicture",{attrs:{pngBase64:e.pipelineTemplate.pipelineTemplateIconPicture,size:150}})],1),i("div",{staticClass:"q-ml-md col"},[i("div",{staticClass:"row"},[i("div",[i("div",{staticClass:"text-h5"},[e._v("\n                    "+e._s(e.pipelineTemplate.pipelineTemplateName)+"\n                  ")]),i("div",{staticClass:"text-caption text-italic"},[e._v("\n                    "+e._s(e.pipelineTemplate.pipelineTemplateUid)+"\n                  ")])]),i("q-space"),i("div",{staticClass:"row"},[i("div",["Visible"===e.pipelineTemplate.statusName?i("q-icon",{attrs:{name:"visibility",color:"positive",size:"lg"}}):"Hidden"===e.pipelineTemplate.statusName?i("q-icon",{staticStyle:{opacity:".5"},attrs:{name:"visibility_off",size:"lg"}}):"Pending review"===e.pipelineTemplate.statusName?i("q-icon",{attrs:{name:"pending_actions",color:"primary",size:"lg"}}):"Failed Review"===e.pipelineTemplate.statusName?i("q-icon",{staticStyle:{opacity:".75"},attrs:{name:"assignment_late",color:"negative",size:"lg"}}):"To be deleted"===e.pipelineTemplate.statusName?i("q-icon",{staticStyle:{opacity:".5"},attrs:{name:"auto_delete",color:"negative",size:"lg"}}):i("q-icon",{attrs:{name:"question_mark",color:"orange",size:"lg"}}),i("q-tooltip",{attrs:{"content-style":"font-size: 1em"}},[i("span",{staticClass:"text-bold"},[e._v("Status ID:")]),e._v(" "+e._s(e.pipelineTemplate.statusId)+"\n                    ")])],1),i("div",{staticClass:"q-ml-sm"},[i("div",{staticClass:"text-bold"},[e._v("\n                      "+e._s(e.pipelineTemplate.statusName)+"\n                    ")]),i("div",{staticClass:"text-caption"},[e._v("\n                      "+e._s(e.pipelineTemplate.statusDescription)+"\n                    ")])])])],1),i("q-separator",{attrs:{spaced:""}}),i("div",{staticClass:"row justify-between"},[i("div",{},[i("div",{},[i("span",{staticClass:"text-bold"},[e._v("Created:")]),e._v(" "+e._s(e.pipelineTemplate.pipelineTemplateCreatedOn)+"\n                  ")]),i("div",{},[i("span",{staticClass:"text-bold"},[e._v("Modified:")]),e._v(" "+e._s(e.pipelineTemplate.pipelineTemplateModifiedOn)+"\n                  ")])]),i("div",{staticClass:"text-h6"},[e._v("\n                  by\n                ")]),i("div",{},[i("div",{staticClass:"row"},[i("Identicon",{attrs:{identity:e.pipelineTemplate.publisherName}}),i("div",{staticClass:"q-ml-sm"},[i("div",{staticClass:"text-bold"},[e._v("\n                        "+e._s(e.pipelineTemplate.publisherName)+"\n                      ")]),i("div",{staticClass:"text-caption text-italic"},[e._v("\n                        "+e._s(e.pipelineTemplate.publisherUid)+"\n                      ")])])],1)])])],1)])],1)],1)],1),i("q-card",{staticClass:"q-pa-md q-mx-none"},[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4"},[e._v("\n              Stats\n          ")]),i("q-card-section",{staticClass:"row justify-between"},[i("div",[e._v("\n              Current Stats:\n              "),i("pre",[e._v(e._s(e.pipelineTemplate.pipelineTemplateStats))])]),i("div",[e._v("\n              New Stats:\n              "),i("pre",[e._v(e._s(e.pipelineTemplateStats))])])])],1),i("q-separator",{attrs:{vertical:""}}),i("q-card-actions",{staticClass:"justify-around q-px-md",attrs:{vertical:""}},[i("q-btn",{attrs:{icon:"published_with_changes",color:"primary"},on:{click:function(t){return e.save()}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Force save new Stats\n              ")])],1)],1)],1)],1),i("q-card",{staticClass:"q-pa-md q-mx-none"},[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4 row"},[e._v("\n              Icon / Logo\n            "),i("q-space"),e.pictureNeedsSaving?i("q-icon",{attrs:{name:"save_as",color:"positive"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Needs saving\n              ")])],1):e._e()],1),i("q-card-section",{staticClass:"row q-gutter-x-lg"},[i("div",[i("div",{staticClass:"text-h6 text-center"},[e._v("\n                Current\n              ")]),i("q-separator",{attrs:{spaced:""}}),i("div",{staticClass:"row q-gutter-md"},[i("div",{staticClass:"text-center",staticStyle:{"min-width":"70px"}},[i("div",[e._v("70x70")]),i("IconPicture",{attrs:{pngBase64:e.pipelineTemplate.pipelineTemplateIconPicture,size:70}})],1),i("div",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[i("div",[e._v("150x150")]),i("IconPicture",{attrs:{pngBase64:e.pipelineTemplate.pipelineTemplateIconPicture,size:150}})],1)])],1),e.pictureImportPanel?i("q-separator",{attrs:{vertical:""}}):e._e(),e.pictureImportPanel?i("div",[i("div",{staticClass:"text-h6 text-center"},[e._v("\n                Import PNG\n              ")]),i("q-separator",{attrs:{spaced:""}}),i("div",{staticClass:"row q-gutter-md"},[i("div",{},[i("q-editor",{staticStyle:{"min-width":"200px"},attrs:{"min-height":"200px",placeholder:"Paste the PNG picture here",toolbar:[]},model:{value:e.pictureEditorContent,callback:function(t){e.pictureEditorContent=t},expression:"pictureEditorContent"}})],1)])],1):e._e(),e.pictureImportPanel?i("q-separator",{attrs:{vertical:""}}):e._e(),e.pictureImportPanel?i("div",{staticClass:"column",staticStyle:{"max-height":"300px"}},[i("div",{staticClass:"text-h6 text-center"},[e._v("\n                Detected / Extracted\n              ")]),i("q-separator",{attrs:{spaced:""}}),i("div",{staticClass:"row q-gutter-md"},[i("div",{staticClass:"text-center",staticStyle:{"min-width":"70px"}},[i("div",[e._v("70x70")]),i("IconPicture",{attrs:{pngBase64:e.pictureEditorContentPngBase64Extracted,size:70}})],1),i("div",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[i("div",[e._v("150x150")]),i("IconPicture",{attrs:{pngBase64:e.pictureEditorContentPngBase64Extracted,size:150}})],1)]),e.pictureImportPictureFound?e._e():i("div",{staticClass:"q-mt-xl text-negative"},[i("q-icon",{attrs:{name:"image_not_supported"}}),e._v("\n                No picture found in content\n              ")],1),e.pictureImportPictureFound&&!e.pictureImportPictureIsPng?i("div",{staticClass:"q-mt-xl text-warning"},[i("q-icon",{attrs:{name:"image_not_supported"}}),e._v("\n                The "),i("span",{staticStyle:{"text-decoration":"underline"}},[e._v("first")]),e._v(" picture is not in a PNG.\n              ")],1):e._e(),i("q-space"),i("q-btn",{staticClass:"self-end full-width",attrs:{disabled:!(e.pictureEditorContentPngBase64Extracted&&e.pictureEditorContentPngBase64Extracted.length&&(!e.pictureEditorContentPngBase64ExtractedAccepted||!e.pictureEditorContentPngBase64ExtractedAccepted.length)),color:"primary",icon:"check_circle_outline"},on:{click:function(t){return e.acceptPictureEditorContentPngBase64()}}},[e._v("\n                Accept\n              ")])],1):e._e(),e.pictureEditorContentPngBase64ExtractedAccepted&&e.pictureEditorContentPngBase64ExtractedAccepted.length?i("q-separator",{attrs:{vertical:""}}):e._e(),e.pictureEditorContentPngBase64ExtractedAccepted&&e.pictureEditorContentPngBase64ExtractedAccepted.length?i("div",{staticClass:"column",staticStyle:{"max-height":"300px"}},[i("div",{staticClass:"text-h6 text-center"},[e._v("\n                New\n              ")]),i("q-separator",{attrs:{spaced:""}}),i("div",{staticClass:"row q-gutter-md"},[i("div",{staticClass:"text-center",staticStyle:{"min-width":"70px"}},[i("div",[e._v("70x70")]),i("IconPicture",{attrs:{pngBase64:e.pictureEditorContentPngBase64ExtractedAccepted,size:70}})],1),i("div",{staticClass:"text-center",staticStyle:{"min-width":"150px"}},[i("div",[e._v("150x150")]),i("IconPicture",{attrs:{pngBase64:e.pictureEditorContentPngBase64ExtractedAccepted,size:150}})],1)]),i("q-space"),i("q-btn",{staticClass:"self-end full-width",attrs:{color:"negative",icon:"close"},on:{click:function(t){return e.discardAcceptedPictureEditorContentPngBase64()}}},[e._v("\n                Discard\n              ")])],1):e._e(),e.pipelineTemplateIconPictureToBeDeleted?i("q-separator",{attrs:{vertical:""}}):e._e(),e.pipelineTemplateIconPictureToBeDeleted?i("div",{staticClass:"column",staticStyle:{"max-height":"300px"}},[i("div",{staticClass:"text-h6 text-center text-negative"},[e._v("\n                To be deleted at next save.\n              ")]),i("q-space"),i("q-btn",{staticClass:"self-end full-width",attrs:{color:"positive",icon:"undo"},on:{click:function(t){return e.discardIconPictureToBeDeleted()}}},[e._v("\n                Undo\n              ")])],1):e._e()],1)],1),i("q-separator",{attrs:{vertical:""}}),i("q-card-actions",{staticClass:"justify-around q-px-md",attrs:{vertical:""}},[i("q-btn",{attrs:{icon:"edit",color:"primary"},on:{click:function(t){e.pictureImportPanel=!0}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Update the picture\n              ")])],1),i("q-btn",{attrs:{icon:"delete",loading:e.dataLoading}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Remove the picture\n              ")]),i("q-menu",{attrs:{"content-class":"bg-negative text-white",anchor:"top end",self:"top start"}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.removePicture()}}},[i("q-item-section",[e._v("Confirm")])],1)],1)],1)],1)],1)],1)],1),i("q-card",{staticClass:"q-pa-md q-mx-none"},[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4 row"},[e._v("\n              Readme\n            "),i("q-space"),e.readmeNeedsSaving?i("q-icon",{attrs:{name:"save_as",color:"positive"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Needs saving\n              ")])],1):e._e()],1),i("q-card-section",[i("q-editor",{attrs:{"min-height":"20rem","max-height":"calc(100vh - 15rem)",dense:e.$q.screen.lt.md,toolbar:[["bold","italic","strike"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["h1","h2","h3","h4","h5","h6","p","code"]},"removeFormat"],[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["hr","link"],["quote","unordered","ordered","outdent","indent"],["print","fullscreen"],["undo","redo"]]},model:{value:e.readmeContentEditor,callback:function(t){e.readmeContentEditor=t},expression:"readmeContentEditor"}})],1)],1),i("q-separator",{attrs:{vertical:""}}),i("q-card-actions",{staticClass:"justify-around q-px-md",attrs:{vertical:""}},[i("q-btn",{attrs:{icon:"delete",loading:e.dataLoading}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Remove Readme content\n              ")]),i("q-menu",{attrs:{"content-class":"bg-negative text-white",anchor:"top end",self:"top start"}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.removeReadme()}}},[i("q-item-section",[e._v("Confirm")])],1)],1)],1)],1)],1)],1)],1),i("q-card",{staticClass:"q-pa-md q-mx-none"},[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4 row"},[e._v("\n            Collection Configuration\n            "),i("q-space"),e.collectionConfigurationNeedsSaving?i("q-icon",{attrs:{name:"save_as",color:"positive"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Needs saving\n              ")])],1):e._e()],1),i("q-card-section",[i("div",{staticClass:"row"},[i("q-separator",{staticClass:"q-mr-sm",attrs:{vertical:"",size:"4px",color:e.collectionConfigurationEditableAsTextIsInvalid?"negative":"positive"}}),i("div",{staticClass:"col"},[e.editCollectionConfiguration?i("pre",[i("q-input",{attrs:{outlined:"",type:"textarea",debounce:"100","input-style":"min-height: 20rem;"},model:{value:e.collectionConfigurationEditableAsText,callback:function(t){e.collectionConfigurationEditableAsText=t},expression:"collectionConfigurationEditableAsText"}})],1):e._e()])],1),e.editCollectionConfiguration?e._e():i("pre",[e._v(e._s(e.collectionConfigurationToBeSaved))])])],1),i("q-separator",{attrs:{vertical:""}}),i("q-card-actions",{staticClass:"justify-around q-px-md",attrs:{vertical:""}},[i("q-btn",{attrs:{icon:"edit",color:"primary"},on:{click:function(t){e.editCollectionConfiguration=!e.editCollectionConfiguration}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Edit Collection Configuration\n              ")])],1),i("q-btn",{attrs:{icon:"share"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Share and Import Collection Configuration\n              ")]),i("q-menu",[i("q-list",{staticStyle:{"min-width":"400px"}},[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.downloadCollectionAsEZImportableConfigFile()}}},[i("q-item-section",{attrs:{avatar:"",top:""}},[i("q-avatar",{attrs:{icon:"share",color:"green-10","text-color":"white"}},[i("q-badge",{attrs:{color:"primary",floating:"",transparent:""}},[i("q-icon",{attrs:{name:"insert_drive_file",color:"white"}})],1)],1)],1),i("q-item-section",[i("q-item-label",{attrs:{lines:"1"}},[e._v("Share as a Local File")]),i("q-item-label",{attrs:{caption:""}},[e._v("As an importable EZ Cloud Collection Configuration file")])],1)],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){e.collectionConfigurationImportFileInput=null,e.showCollectionFileImportPopup=!0}}},[i("q-item-section",{attrs:{avatar:"",top:""}},[i("q-avatar",{attrs:{icon:"input",color:"purple-10","text-color":"white"}},[i("q-badge",{attrs:{color:"primary",floating:"",transparent:""}},[i("q-icon",{attrs:{name:"insert_drive_file",color:"white"}})],1)],1)],1),i("q-item-section",[i("q-item-label",{attrs:{lines:"1"}},[e._v("Import from Local File")]),i("q-item-label",{attrs:{caption:""}},[e._v("Import a shared EZ Cloud Collection Configuration file")])],1)],1)],1)],1)],1),i("q-btn",{attrs:{icon:"delete",loading:e.dataLoading}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Delete Collection Configuration\n              ")]),i("q-menu",{attrs:{"content-class":"bg-negative text-white",anchor:"top end",self:"top start"}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.removeCollectionConfiguration()}}},[i("q-item-section",[e._v("Confirm")])],1)],1)],1)],1)],1)],1)],1),i("q-card",{staticClass:"q-pa-md q-mx-none"},[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4 row"},[e._v("\n            Options\n            "),i("q-space"),e.optionsNeedsSaving?i("q-icon",{attrs:{name:"save_as",color:"positive"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Needs saving\n              ")])],1):e._e()],1),i("q-card-section",[e.optionsToBeSaved?i("q-toggle",{attrs:{label:"Extract Beat's '.message' only"},model:{value:e.optionsToBeSaved.extractMessageFieldOnly,callback:function(t){e.$set(e.optionsToBeSaved,"extractMessageFieldOnly",t)},expression:"optionsToBeSaved.extractMessageFieldOnly"}}):e._e()],1)],1),i("q-separator",{attrs:{vertical:""}}),i("q-card-actions",{staticClass:"justify-around q-px-md",attrs:{vertical:""}},[i("q-btn",{attrs:{icon:"delete",loading:e.dataLoading}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n              Delete Options\n            ")]),i("q-menu",{attrs:{"content-class":"bg-negative text-white",anchor:"top end",self:"top start"}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.removeOptions()}}},[i("q-item-section",[e._v("Confirm")])],1)],1)],1)],1)],1)],1)],1),i("q-card",{staticClass:"q-pa-md q-mx-none"},[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4 row"},[e._v("\n            Fields Mapping\n            "),i("q-space"),e.fieldsMappingNeedsSaving?i("q-icon",{attrs:{name:"save_as",color:"positive"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Needs saving\n              ")])],1):e._e()],1),i("q-card-section",[i("div",{staticClass:"row"},[i("q-separator",{staticClass:"q-mr-sm",attrs:{vertical:"",size:"4px",color:e.fieldsMappingEditableAsTextIsInvalid?"negative":"positive"}}),i("div",{staticClass:"col"},[e.editFieldsMapping?i("pre",[i("q-input",{attrs:{outlined:"",type:"textarea",debounce:"100","input-style":"min-height: 20rem; height: calc(100vh - 15rem);"},model:{value:e.fieldsMappingEditableAsText,callback:function(t){e.fieldsMappingEditableAsText=t},expression:"fieldsMappingEditableAsText"}})],1):e._e()])],1),e.editFieldsMapping?e._e():i("q-scroll-area",{staticStyle:{height:"calc(100vh - 15rem)"}},[i("pre",[e._v(e._s(e.fieldsMappingToBeSaved))])])],1)],1),i("q-separator",{attrs:{vertical:""}}),i("q-card-actions",{staticClass:"justify-around q-px-md",attrs:{vertical:""}},[i("q-btn",{attrs:{icon:"edit",color:"primary"},on:{click:function(t){e.editFieldsMapping=!e.editFieldsMapping}}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Edit Fields Mapping\n              ")])],1),i("q-btn",{attrs:{icon:"share"}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Share and Import Mapping\n              ")]),i("q-menu",{attrs:{"content-style":"min-width: 420px"}},[i("q-list",{staticStyle:{"min-width":"400px"}},[i("q-item-label",{attrs:{header:""}},[e._v("Sanitisation")]),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[i("q-item-section",[i("q-item-label",[e._v("Share Field Frequencies")]),i("q-item-label",{attrs:{caption:""}},[e._v("Include the frequency statistics for each field")])],1),i("q-item-section",{attrs:{avatar:""}},[i("q-toggle",{model:{value:e.shareFieldFrequencies,callback:function(t){e.shareFieldFrequencies=t},expression:"shareFieldFrequencies"}})],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[i("q-item-section",[i("q-item-label",[e._v("Share Field Values")]),i("q-item-label",{attrs:{caption:""}},[e._v("Include all the observed values for each field")]),i("q-item-label",{staticClass:"text-bold text-italic",attrs:{caption:""}},[i("q-icon",{staticClass:"q-ma-none q-mr-xs",attrs:{name:"warning",color:"orange"}}),e._v("This could lead to sharing sensitive information")],1)],1),i("q-item-section",{attrs:{avatar:""}},[i("q-toggle",{attrs:{color:"orange"},model:{value:e.shareFieldValues,callback:function(t){e.shareFieldValues=t},expression:"shareFieldValues"}})],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[i("q-item-section",[i("q-item-label",[e._v("Share Field SIEM Mapping")]),i("q-item-label",{attrs:{caption:""}},[e._v("Include the SIEM tags mapping for each field")])],1),i("q-item-section",{attrs:{avatar:""}},[i("q-toggle",{model:{value:e.shareFieldMapping,callback:function(t){e.shareFieldMapping=t},expression:"shareFieldMapping"}})],1)],1),i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[i("q-item-section",[i("q-item-label",[e._v("Share Field Modifiers")]),i("q-item-label",{attrs:{caption:""}},[e._v("Include the modifiers for each field")])],1),i("q-item-section",{attrs:{avatar:""}},[i("q-toggle",{model:{value:e.shareFieldModifiers,callback:function(t){e.shareFieldModifiers=t},expression:"shareFieldModifiers"}})],1)],1),i("q-separator"),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.downloadMappingAsEZImportableConfigFile()}}},[i("q-item-section",{attrs:{avatar:"",top:""}},[i("q-avatar",{attrs:{icon:"share",color:"green-10","text-color":"white"}},[i("q-badge",{attrs:{color:"primary",floating:"",transparent:""}},[i("q-icon",{attrs:{name:"insert_drive_file",color:"white"}})],1)],1)],1),i("q-item-section",[i("q-item-label",{attrs:{lines:"1"}},[e._v("Share as a Local File")]),i("q-item-label",{attrs:{caption:""}},[e._v("As an importable EZ Cloud Mapping file")])],1)],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){e.fieldsMappingImportFileInput=null,e.showFieldsMappingFileImportPopup=!0}}},[i("q-item-section",{attrs:{avatar:"",top:""}},[i("q-avatar",{attrs:{icon:"input",color:"purple-10","text-color":"white"}},[i("q-badge",{attrs:{color:"primary",floating:"",transparent:""}},[i("q-icon",{attrs:{name:"insert_drive_file",color:"white"}})],1)],1)],1),i("q-item-section",[i("q-item-label",{attrs:{lines:"1"}},[e._v("Import from Local File")]),i("q-item-label",{attrs:{caption:""}},[e._v("Import a shared EZ Cloud Mapping file")])],1)],1)],1)],1)],1),i("q-btn",{attrs:{icon:"delete",loading:e.dataLoading}},[i("q-tooltip",{attrs:{"content-style":"font-size: 1rem;"}},[e._v("\n                Delete Fields Mapping\n              ")]),i("q-menu",{attrs:{"content-class":"bg-negative text-white",anchor:"top end",self:"top start"}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.removeFieldsMapping()}}},[i("q-item-section",[e._v("Confirm")])],1)],1)],1)],1)],1)],1)],1),i("q-card",{staticClass:"q-pa-md q-mx-none"},[i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col q-ma-none q-pa-none"},[i("q-card-section",{staticClass:"text-h4"},[e._v("\n              Raw data\n          ")]),i("q-card-section",[i("q-expansion-item",{attrs:{"expand-separator":"",icon:"raw_on",label:"Expand to see full RAW record",caption:"As stored in DB"}},[i("pre",[e._v(e._s(e.pipelineTemplate))])])],1)],1)],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.showCollectionFileImportPopup,callback:function(t){e.showCollectionFileImportPopup=t},expression:"showCollectionFileImportPopup"}},[i("q-card",{staticStyle:{"min-width":"350px"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Import EZ Cloud Collection Configuration")))])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-file",{attrs:{filled:"","bottom-slots":"",label:"Click or Drop a .ezCollection file here","input-style":"min-width: 24em;min-height: 14em;",accept:".ezCollection"},on:{rejected:e.onRejectedCollectionFile},scopedSlots:e._u([{key:"append",fn:function(){return[null!==e.collectionConfigurationImportFileInput?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.collectionConfigurationImportFileInput=null}}}):e._e(),i("q-icon",{attrs:{name:"note_add"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0}]),model:{value:e.collectionConfigurationImportFileInput,callback:function(t){e.collectionConfigurationImportFileInput=t},expression:"collectionConfigurationImportFileInput"}})],1),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",flat:"",label:e.$t("Cancel")}}),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:e.$t("Import Configuration"),disabled:null===e.collectionConfigurationImportFileInput},on:{click:function(t){return e.importCollectionFromEZImportableConfigFile(e.collectionConfigurationImportFileInput)}}})],1)],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:e.showFieldsMappingFileImportPopup,callback:function(t){e.showFieldsMappingFileImportPopup=t},expression:"showFieldsMappingFileImportPopup"}},[i("q-card",{staticStyle:{"min-width":"350px"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Import EZ Cloud Fields Mapping")))])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-file",{attrs:{filled:"","bottom-slots":"",label:"Click or Drop a .ezFieldsMapping file here","input-style":"min-width: 24em;min-height: 14em;",accept:".ezFieldsMapping"},on:{rejected:e.onRejectedFieldsMappingFile},scopedSlots:e._u([{key:"append",fn:function(){return[null!==e.fieldsMappingImportFileInput?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.fieldsMappingImportFileInput=null}}}):e._e(),i("q-icon",{attrs:{name:"note_add"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0}]),model:{value:e.fieldsMappingImportFileInput,callback:function(t){e.fieldsMappingImportFileInput=t},expression:"fieldsMappingImportFileInput"}})],1),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",flat:"",label:e.$t("Cancel")}}),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:e.$t("Import Fields Mapping"),disabled:null===e.fieldsMappingImportFileInput},on:{click:function(t){return e.importMappingFromEZImportableConfigFile(e.fieldsMappingImportFileInput)}}})],1)],1)],1)],1)},n=[],o=(i("ddb0"),i("e9c4"),i("5319"),i("2f62")),l=i("fe09"),s=i("a87d"),r=i("da35"),p=i("2675"),c=i("7c4c"),d=i("541d"),m=i("7c5c"),u=i("4dc6"),g=i("7fae"),h=i.n(g);c["a"].addDefaultLocale(d);const v=new u["NodeHtmlMarkdown"]({keepDataImages:!0},void 0,void 0);var f={name:"PageAdminPipelineTemplateReview",mixins:[s["a"]],components:{Identicon:r["a"],IconPicture:p["a"]},data(){return{pipelineTemplateUid:"",pipelineTemplate:{},pipelineTemplateLoading:!1,pictureEditorContent:"",pictureEditorContentPngBase64Extracted:"",pictureEditorContentPngBase64ExtractedAccepted:"",pipelineTemplateIconPictureToBeDeleted:!1,pictureImportPanel:!1,pictureImportPictureFound:!1,pictureImportPictureIsPng:!1,readmeContentHtml:"",readmeContentEditor:"",showCollectionFileImportPopup:!1,collectionConfigurationImportFileInput:null,optionsToBeSaved:null,collectionConfigurationToBeSaved:null,editCollectionConfiguration:!1,collectionConfigurationEditableAsTextIsInvalid:!1,fieldsMappingToBeSaved:null,editFieldsMapping:!1,fieldsMappingEditableAsTextIsInvalid:!1,shareFieldFrequencies:!0,shareFieldValues:!1,shareFieldMapping:!0,shareFieldModifiers:!0,fieldsMappingImportFileInput:null,showFieldsMappingFileImportPopup:!1}},computed:{...Object(o["d"])("mainStore",["ezMarketStatuses","ezMarketPublishers"]),dataLoading(){return this.pipelineTemplateLoading},needsSaving(){return this.pictureNeedsSaving||this.readmeNeedsSaving||this.optionsNeedsSaving||this.collectionConfigurationNeedsSaving||this.fieldsMappingNeedsSaving},pictureNeedsSaving(){return!!(this.pictureEditorContentPngBase64ExtractedAccepted&&this.pictureEditorContentPngBase64ExtractedAccepted.length||!0===this.pipelineTemplateIconPictureToBeDeleted)},readmeNeedsSaving(){return!(this.readmeContentEditor===this.readmeContentHtml)},optionsNeedsSaving(){return!h()(this.optionsToBeSaved,this.pipelineTemplate&&this.pipelineTemplate.pipelineTemplateMappingConfiguration?this.pipelineTemplate.pipelineTemplateMappingConfiguration.options:void 0)},collectionConfigurationNeedsSaving(){return!h()(this.collectionConfigurationToBeSaved,this.pipelineTemplate&&this.pipelineTemplate.pipelineTemplateCollectionConfiguration?this.pipelineTemplate.pipelineTemplateCollectionConfiguration.collectionConfig:{})},fieldsMappingNeedsSaving(){return!h()(this.fieldsMappingToBeSaved,this.pipelineTemplate&&this.pipelineTemplate.pipelineTemplateMappingConfiguration?this.pipelineTemplate.pipelineTemplateMappingConfiguration.fieldsMapping:{})},pipelineTemplateName(){return this.pipelineTemplate.pipelineTemplateName},publishersOptions(){const e=[];return this.ezMarketPublishers&&Array.isArray(this.ezMarketPublishers)&&this.ezMarketPublishers.length&&this.ezMarketPublishers.forEach((t=>{e.push({value:t.publisherUid,label:t.displayName})})),e},readmeContentEditorAsMarkdown(){if(this.readmeNeedsSaving)try{const e=v.translate(this.readmeContentEditor);return e}catch{}return this.pipelineTemplate.pipelineTemplateReadmeMarkdown},pipelineTemplateStats(){const e=!!(this.fieldsMappingToBeSaved&&this.fieldsMappingToBeSaved&&Array.isArray(this.fieldsMappingToBeSaved)),t=!!(e&&this.fieldsMappingToBeSaved.length>0);return{collectionShipper:this.collectionConfigurationToBeSaved&&this.collectionConfigurationToBeSaved.collectionShipper?this.collectionConfigurationToBeSaved.collectionShipper:void 0,collectionMethod:this.collectionConfigurationToBeSaved&&this.collectionConfigurationToBeSaved.collectionMethod?this.collectionConfigurationToBeSaved.collectionMethod:void 0,detectedFields:e?this.fieldsMappingToBeSaved.length:void 0,mappedFields:t?this.fieldsMappingToBeSaved.reduce(((e,t)=>t.mappedField&&t.mappedField.length>0?e+1:e),0):void 0,sharedFieldFrequencies:(t?this.fieldsMappingToBeSaved.reduce(((e,t)=>t.seenInLogCount>1?e+1:e),0):void 0)>0,sharedFieldValues:(t?this.fieldsMappingToBeSaved.reduce(((e,t)=>t.values&&Array.isArray(t.values)&&t.values.length?e+1:e),0):void 0)>0,sharedFieldMapping:(t?this.fieldsMappingToBeSaved.reduce(((e,t)=>t.mappedField&&t.mappedField.length>0?e+1:e),0):void 0)>0,sharedFieldModifiers:(t?this.fieldsMappingToBeSaved.reduce(((e,t)=>t.modifiers&&Array.isArray(t.modifiers)&&t.modifiers.length?e+1:e),0):void 0)>0}},collectionConfigurationEditableAsText:{get(){return JSON.stringify(this.collectionConfigurationToBeSaved,void 0,"  ")},set(e){try{this.collectionConfigurationToBeSaved=JSON.parse(e),this.collectionConfigurationEditableAsTextIsInvalid=!1}catch(t){this.collectionConfigurationEditableAsTextIsInvalid=!0}}},fieldsMappingEditableAsText:{get(){return JSON.stringify(this.fieldsMappingToBeSaved,void 0,"  ")},set(e){try{this.fieldsMappingToBeSaved=JSON.parse(e),this.fieldsMappingEditableAsTextIsInvalid=!1}catch(t){this.fieldsMappingEditableAsTextIsInvalid=!0}}}},methods:{...Object(o["b"])("mainStore",["getStatuses","getPublishers","getPipelineTemplateByUid","updatePipelineTemplate"]),loadStatuses(){this.getStatuses({loadingVariableName:"statusesLoading",caller:this})},loadPublishers(){this.getPublishers({loadingVariableName:"publishersLoading",caller:this})},loadPipelineTemplate(){this.getPipelineTemplateByUid({pipelineTemplateUid:this.pipelineTemplateUid,loadingVariableName:"pipelineTemplateLoading",caller:this,onSuccessCallBack:this.pipelineTemplateLoaded})},pipelineTemplateLoaded(e){if(e&&e.data&&e.data.records&&Array.isArray(e.data.records)&&e.data.records.length>=0)try{const i=JSON.parse(JSON.stringify(e.data.records[0]));if(i){try{i.pipelineTemplateStats=JSON.parse(i.pipelineTemplateStats)||{}}catch(t){i.pipelineTemplateStats={}}try{i.pipelineTemplateCollectionConfiguration=JSON.parse(i.pipelineTemplateCollectionConfiguration)||{}}catch(t){i.pipelineTemplateCollectionConfiguration={}}try{this.collectionConfigurationToBeSaved=JSON.parse(JSON.stringify(i.pipelineTemplateCollectionConfiguration.collectionConfig))}catch(t){this.collectionConfigurationToBeSaved=null}try{i.pipelineTemplateMappingConfiguration=JSON.parse(i.pipelineTemplateMappingConfiguration)||{}}catch(t){i.pipelineTemplateMappingConfiguration={}}try{this.optionsToBeSaved=JSON.parse(JSON.stringify(i.pipelineTemplateMappingConfiguration.options))}catch(t){this.optionsToBeSaved=null}try{this.fieldsMappingToBeSaved=JSON.parse(JSON.stringify(i.pipelineTemplateMappingConfiguration.fieldsMapping))}catch(t){this.fieldsMappingToBeSaved=null}}this.pipelineTemplate=i}catch(t){this.pipelineTemplate={}}finally{this.discardAcceptedPictureEditorContentPngBase64(),this.pipelineTemplateIconPictureToBeDeleted=!1,this.discardEditedReadmeContent()}},save(){this.pipelineTemplateUid&&this.pipelineTemplateUid.length&&this.pipelineTemplate&&this.pipelineTemplate.pipelineTemplateUid&&this.pipelineTemplate.pipelineTemplateUid.length&&this.pipelineTemplateUid===this.pipelineTemplate.pipelineTemplateUid&&this.updatePipelineTemplate({pipelineTemplateUid:this.pipelineTemplateUid,statusId:this.pipelineTemplate.statusId,name:this.pipelineTemplate.pipelineTemplateName,pipelineTemplateIconPicture:this.pictureEditorContentPngBase64ExtractedAccepted&&this.pictureEditorContentPngBase64ExtractedAccepted.length?this.pictureEditorContentPngBase64ExtractedAccepted:!0===this.pipelineTemplateIconPictureToBeDeleted?null:void 0,pipelineTemplateReadmeMarkdown:this.readmeNeedsSaving?this.readmeContentEditorAsMarkdown:void 0,collectionConfiguration:this.collectionConfigurationNeedsSaving?{collectionConfig:this.collectionConfigurationNeedsSaving?this.collectionConfigurationToBeSaved:this.pipelineTemplate.pipelineTemplateCollectionConfiguration?this.pipelineTemplate.pipelineTemplateCollectionConfiguration.collectionConfig:void 0}:void 0,fieldsMapping:this.fieldsMappingNeedsSaving||this.optionsNeedsSaving?{options:this.optionsNeedsSaving?this.optionsToBeSaved:this.pipelineTemplate.pipelineTemplateMappingConfiguration?this.pipelineTemplate.pipelineTemplateMappingConfiguration.options:void 0,fieldsMapping:this.fieldsMappingNeedsSaving?this.fieldsMappingToBeSaved:this.pipelineTemplate.pipelineTemplateMappingConfiguration?this.pipelineTemplate.pipelineTemplateMappingConfiguration.fieldsMapping:void 0}:void 0,pipelineTemplateStats:this.pipelineTemplateStats||null,loadingVariableName:"pipelineTemplateLoading",caller:this,onSuccessCallBack:this.loadPipelineTemplate,onErrorCallBack:this.updatePipelineTemplateFailure,debug:!0})},reverseToLastSaved(){this.loadPipelineTemplate()},updatePipelineTemplateFailure(e){this.$root.$emit("addAndShowErrorToErrorPanel",e),this.loadPipelineTemplate()},extractPictureEditorContentPngBase64(e){try{const t=e||"",i=t.match(/<img .*?src="([^"]*)"/);if(i&&Array.isArray(i)&&i.length>=2)return this.pictureImportPictureFound=!0,void this.loadImageFromUrl(i&&Array.isArray(i)&&i.length>=2?i[1]:"");this.pictureImportPictureFound=!1,this.pictureImportPictureIsPng=!1,this.pictureEditorContentPngBase64Extracted=""}catch(t){this.pictureImportPictureFound=!1,this.pictureImportPictureIsPng=!1,this.pictureEditorContentPngBase64Extracted=""}return""},async loadImageFromUrl(e){if(e&&e.length)try{const t=await fetch(e),i=await t.blob(),a=new FileReader;a.readAsDataURL(i),a.onloadend=()=>{const e=a.result,t=e.match(/data:image\/png;base64,(.*)/);t&&Array.isArray(t)&&t.length>=2?(this.pictureEditorContentPngBase64Extracted=t&&Array.isArray(t)&&t.length>=2?t[1]:"",this.pictureImportPictureIsPng=!0):(this.pictureImportPictureIsPng=!1,this.pictureEditorContentPngBase64Extracted="")}}catch(t){this.pictureImportPictureIsPng=!1,this.pictureEditorContentPngBase64Extracted=""}},acceptPictureEditorContentPngBase64(){this.pictureEditorContentPngBase64ExtractedAccepted=this.pictureEditorContentPngBase64Extracted,this.discardIconPictureToBeDeleted()},discardAcceptedPictureEditorContentPngBase64(){this.pictureEditorContentPngBase64ExtractedAccepted=""},removePicture(){this.pipelineTemplateIconPictureToBeDeleted=!0,this.discardAcceptedPictureEditorContentPngBase64()},discardIconPictureToBeDeleted(){this.pipelineTemplateIconPictureToBeDeleted=!1},removeReadme(){this.readmeContentEditor=""},discardEditedReadmeContent(){try{this.readmeContentHtml=m["marked"].parse(this.pipelineTemplate.pipelineTemplateReadmeMarkdown)}catch(e){}finally{this.readmeContentEditor=this.readmeContentHtml}},downloadCollectionAsEZImportableConfigFile(){const e=".ezCollection",t="application/json",i="input."+this.pipelineTemplate.pipelineTemplateName+"_"+this.pipelineTemplate.pipelineTemplateUid+e,a=this.$q.notify({icon:"cloud_download",message:this.$t("Downloading Importable Collection Configuration file..."),caption:i,type:"ongoing"}),n=Object(l["a"])(i,JSON.stringify(this.pipelineTemplate&&this.pipelineTemplate.pipelineTemplateCollectionConfiguration?this.pipelineTemplate.pipelineTemplateCollectionConfiguration.collectionConfig:{}),t);!0===n?a({type:"positive",color:"positive",icon:"check",message:this.$t("Importable Collection Configuration file downloaded"),caption:i}):(a({type:"negative",color:"negative",icon:"report_problem",message:this.$t("Problem while downloading Importable Collection Configuration file:"),caption:n}),console.log("Error: "+n))},onRejectedCollectionFile(e){const t=e&&Array.isArray(e)&&e[0]&&e[0].file&&e[0].file.name?e[0].file.name:"";this.$root.$emit("addAndShowErrorToErrorPanel",{code:"BadFileExtentionImportCollection",messageForLogAndPopup:`Only .ezCollection files are accepted. You tried to import "${t}".`})},async importCollectionFromEZImportableConfigFile(e){let t;if(null==e)console.log("[importCollectionFromEZImportableConfigFile] - 🟠 - No file selected.");else if(Array.isArray(e))this.$root.$emit("addAndShowErrorToErrorPanel",{code:"TooManyFilesImportCollection",messageForLogAndPopup:`Only one .ezCollection file is accepted. You tried to import ${e.length} files.`});else{t=e&&e.name&&e.name.length?e.name:void 0;const a=this.$q.notify({icon:"cloud_download",message:this.$t("Importing Shared Collection Configuration file..."),caption:t,type:"ongoing"});let n=!1;try{const o=await e.text();let l={};try{l=JSON.parse(o);const e=l&&l.collectionShipper&&l.collectionShipper.length?l.collectionShipper:null;l&&l.collectionMethod&&l.collectionMethod.length&&l.collectionMethod;"filebeat"===e&&(l.fields=l.fields||{},l.fields.stream_id=this.pipelineTemplate.pipelineTemplateUid,l.fields.stream_name=this.pipelineTemplate.pipelineTemplateName),"jsBeat"===e&&(l.filterHelpers=l.filterHelpers||{},l.filterHelpers.stream_id=this.pipelineTemplate.pipelineTemplateUid,l.filterHelpers.stream_name=this.pipelineTemplate.pipelineTemplateName,l.uid=this.pipelineTemplate.pipelineTemplateUid,l.name=this.pipelineTemplate.pipelineTemplateName),["genericbeat","webhookbeat"].includes(e)&&(l.beatIdentifier=String(this.pipelineTemplate.pipelineTemplateUid.substring(0,3)+"_"+this.pipelineTemplate.pipelineTemplateName.replace(/[^a-zA-Z0-9]/g,"_")+"_"+this.pipelineTemplate.pipelineTemplateUid).substring(0,12),l.logsource_name=this.pipelineTemplate.pipelineTemplateName);try{this.collectionConfigurationToBeSaved=JSON.parse(JSON.stringify(l))}catch(i){this.collectionConfigurationToBeSaved=null}a({type:"positive",color:"positive",icon:"check",message:this.$t("Shared Collection Configuration file imported"),caption:t})}catch(i){n=!0,this.$root.$emit("addAndShowErrorToErrorPanel",{code:"CantParseFileImportCollection",messageForLogAndPopup:`Error trying to parse the content of ${e.length} file. Error: ${i.message}`})}}catch(i){n=!0,this.$root.$emit("addAndShowErrorToErrorPanel",{code:"CantReadFileImportCollection",messageForLogAndPopup:`Error trying to open ${e.length} file. Error: ${i.message}`})}n&&(a({type:"negative",color:"negative",icon:"report_problem",message:this.$t("Problem while importing Shared Collection Configuration file"),caption:t}),console.log("Error: Problem while importing Shared Collection Configuration file"))}},removeOptions(){this.optionsToBeSaved=null},removeCollectionConfiguration(){this.collectionConfigurationToBeSaved=null},downloadMappingAsEZImportableConfigFile(){const e=".ezFieldsMapping",t="application/json",i="input."+this.pipelineTemplate.pipelineTemplateName+"_"+this.pipelineTemplate.pipelineTemplateUid+e,a=this.$q.notify({icon:"cloud_download",message:this.$t("Downloading Importable Fields Mapping file..."),caption:i,type:"ongoing"}),n=JSON.parse(JSON.stringify(this.pipelineTemplate&&this.pipelineTemplate.pipelineTemplateMappingConfiguration?this.pipelineTemplate.pipelineTemplateMappingConfiguration.fieldsMapping:{}));!0===this.shareFieldFrequencies&&!0===this.shareFieldValues&&!0===this.shareFieldMapping&&!0===this.shareFieldModifiers||n.forEach((e=>{e.seenInLogCount=!0!==this.shareFieldFrequencies?1:e.seenInLogCount,e.values=!0!==this.shareFieldValues?[]:e.values,e.mappedField=!0!==this.shareFieldMapping?void 0:e.mappedField,e.modifiers=!0!==this.shareFieldModifiers?void 0:e.modifiers}));const o={options:{extractMessageFieldOnly:this.optionsToBeSaved?this.optionsToBeSaved.extractMessageFieldOnly:void 0},fieldsMapping:n},s=Object(l["a"])(i,JSON.stringify(o),t);!0===s?a({type:"positive",color:"positive",icon:"check",message:this.$t("Importable Fields Mapping file downloaded"),caption:i}):(a({type:"negative",color:"negative",icon:"report_problem",message:this.$t("Problem while downloading Importable Fields Mapping file:"),caption:s}),console.log("Error: "+s))},onRejectedFieldsMappingFile(e){const t=e&&Array.isArray(e)&&e[0]&&e[0].file&&e[0].file.name?e[0].file.name:"";this.$root.$emit("addAndShowErrorToErrorPanel",{code:"BadFileExtentionImportMapping",messageForLogAndPopup:`Only .ezFieldsMapping files are accepted. You tried to import "${t}".`})},async importMappingFromEZImportableConfigFile(e){let t;if(null==e)console.log("[importMappingFromEZImportableConfigFile] - 🟠 - No file selected.");else if(Array.isArray(e))this.$root.$emit("addAndShowErrorToErrorPanel",{code:"TooManyFilesImportMapping",messageForLogAndPopup:`Only one .ezFieldsMapping file is accepted. You tried to import ${e.length} files.`});else{t=e&&e.name&&e.name.length?e.name:void 0;const a=this.$q.notify({icon:"cloud_download",message:this.$t("Importing Shared Fields Mapping file..."),caption:t,type:"ongoing"});let n=!1;try{const o=await e.text();let l={};try{l=JSON.parse(o);try{this.fieldsMappingToBeSaved=JSON.parse(JSON.stringify(l.fieldsMapping||null))}catch(i){this.fieldsMappingToBeSaved=null}a({type:"positive",color:"positive",icon:"check",message:this.$t("Shared Fields Mapping file imported"),caption:t})}catch(i){n=!0,this.$root.$emit("addAndShowErrorToErrorPanel",{code:"CantParseFileImportMapping",messageForLogAndPopup:`Error trying to parse the content of ${e.length} file. Error: ${i.message}`})}}catch(i){n=!0,this.$root.$emit("addAndShowErrorToErrorPanel",{code:"CantReadFileImportMapping",messageForLogAndPopup:`Error trying to open ${e.length} file. Error: ${i.message}`})}n&&(a({type:"negative",color:"negative",icon:"report_problem",message:this.$t("Problem while importing Shared Fields Mapping file"),caption:t}),console.log("Error: Problem while importing Shared Fields Mapping file"))}},removeFieldsMapping(){this.fieldsMappingToBeSaved=null}},mounted(){this.$route.params.pipelineTemplateUid&&this.$route.params.pipelineTemplateUid.length&&this.pipelineTemplateUid!==this.$route.params.pipelineTemplateUid&&(this.pipelineTemplateUid=this.$route.params.pipelineTemplateUid),this.loadStatuses(),this.loadPublishers(),this.loadPipelineTemplate()},watch:{pictureEditorContent:{handler(e){this.extractPictureEditorContentPngBase64(e)}}}},C=f,q=i("2877"),T=i("9989"),b=i("e359"),S=i("b498"),x=i("65c6"),_=i("9c40"),y=i("eb85"),I=i("6ac5"),P=i("f09f"),F=i("a370"),M=i("2c91"),E=i("0016"),w=i("05c0"),B=i("4b7e"),N=i("d66b"),A=i("4e73"),k=i("1c1c"),$=i("66e5"),z=i("4074"),O=i("27f9"),L=i("cb32"),U=i("58a8"),Q=i("0170"),D=i("9564"),J=i("4983"),R=i("3b73"),j=i("24e8"),Z=i("7d53"),V=i("7f67"),H=i("714f"),Y=i("eebe"),G=i.n(Y),W=Object(q["a"])(C,a,n,!1,null,null,null);t["default"]=W.exports;G()(W,"components",{QPage:T["a"],QHeader:b["a"],QColor:S["a"],QToolbar:x["a"],QBtn:_["a"],QSeparator:y["a"],QToolbarTitle:I["a"],QCard:P["a"],QCardSection:F["a"],QSpace:M["a"],QIcon:E["a"],QTooltip:w["a"],QCardActions:B["a"],QEditor:N["a"],QMenu:A["a"],QList:k["a"],QItem:$["a"],QItemSection:z["a"],QInput:O["a"],QAvatar:L["a"],QBadge:U["a"],QItemLabel:Q["a"],QToggle:D["a"],QScrollArea:J["a"],QExpansionItem:R["a"],QDialog:j["a"],QFile:Z["a"]}),G()(W,"directives",{ClosePopup:V["a"],Ripple:H["a"]})}}]);